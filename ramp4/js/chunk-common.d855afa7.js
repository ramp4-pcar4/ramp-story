(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{0:function(t,e,i){t.exports=i("cd49")},"0008":function(t,e,i){},"0fee":function(t,e,i){},1137:function(t,e,i){},2293:function(t,e,i){},2533:function(t,e,i){},"27e4":function(t,e,i){},"2d0a":function(t,e,i){},3101:function(t,e,i){"use strict";var a;i.d(e,"a",(function(){return a})),function(t){t["Text"]="text",t["Image"]="image",t["Map"]="map",t["Chart"]="chart",t["Video"]="video",t["Audio"]="audio",t["Slideshow"]="slideshow",t["Dynamic"]="dynamic",t["Loading"]="loading"}(a||(a={}))},"38c8":function(t,e,i){},"3d6d":function(t,e){var i=[{key:"chapters.title",enValue:"Chapters",enValid:"1",frValue:"Chapitres",frValid:"1"},{key:"chapters.return",enValue:"Return to top",enValid:"1",frValue:"Retournez en haut",frValid:"1"},{key:"chapters.menu",enValue:"Toggle menu",enValid:"1",frValue:"Menu bascule",frValid:"0"},{key:"layer.loading",enValue:"The layer is loading...",enValid:"1",frValue:"La couche est en cours de téléchargement...",frValid:"1"},{key:"scrollguard.desc",enValue:"Use ctrl + scroll to zoom the map",enValid:"1",frValue:"Utilisez les touches Ctrl et + pour faire un zoom de la carte",frValid:"1"},{key:"story.date",enValue:"Date modified:",enValid:"1",frValue:"Date de modification:",frValid:"1"},{key:"story.error",enValue:"An error occurred while loading this Storylines product. See developer console for more information.",enValid:"1",frValue:"Une erreur est survenue pendant le chargement ce synopsis produit. Voir la console du promoteur pour obtenir de plus amples renseignements.",frValid:"1"},{key:"image.fullscreen",enValue:"Full Screen",enValid:"1",frValue:"Plein Écran",frValid:"1"},{key:"timeslider.expand",enValue:"Expand",enValid:"1",frValue:"Développer",frValid:"1"},{key:"timeslider.minimize",enValue:"Minimize",enValid:"1",frValue:"Réduire",frValid:"1"},{key:"timeslider.play",enValue:"Play",enValid:"1",frValue:"Lire",frValid:"0"},{key:"timeslider.pause",enValue:"Pause",enValid:"1",frValue:"Pause",frValid:"0"},{key:"fullscreen.activate",enValue:"Enter Fullscreen",enValid:"1",frValue:"Entrer en plein écran",frValid:"0"},{key:"fullscreen.deactivate",enValue:"Exit Fullscreen",enValid:"1",frValue:"Sortie plein écran",frValid:"0"},{key:"dynamic.back",enValue:"Back",enValid:"1",frValue:"Retour",frValid:"0"},{key:"video.transcript",enValue:"Transcript",enValid:"1",frValue:"Transcription",frValid:"0"}];i.columns=["key","enValue","enValid","frValue","frValid"],t.exports=i},4044:function(t,e,i){"use strict";i("2d0a")},"48e5":function(t,e,i){"use strict";i("722d")},"51aa":function(t,e,i){"use strict";i("c87e")},5602:function(t,e,i){"use strict";i("7077")},"5d6a":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex-col relative",class:"text"!==t.config.type?"sticky "+("map"===t.config.type?"top-16 overflow-x-auto overflow-y-hidden":"top-8")+" sm:self-start flex-2 order-1 sm:order-2 z-40":"flex flex-1 order-2 sm:order-1"},[t._t("default"),i(t.getTemplate(),{tag:"component",style:t.config.customStyles,attrs:{config:t.config,configFileStructure:t.configFileStructure,slideIdx:t.slideIdx,lang:t.lang}})],2)},n=[],r=i("ade3"),s=i("d4ec"),o=i("bee2"),l=i("262e"),c=i("2caf"),d=i("9ab4"),u=i("1b40"),f=i("3101"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Scrollama",{staticClass:"prose max-w-none my-5"},[i(t.config.titleTag||"h2",{tag:"component",staticClass:"px-10 mb-0 chapter-title top-20"},[t._v(" "+t._s(t.config.title)+" ")]),i("div",{staticClass:"px-10 md-content object-contain",domProps:{innerHTML:t._s(t.mdContent)}})],1)},h=[],v=(i("ac1f"),i("5319"),i("159b"),i("a57f")),g=i("d4cd"),m=i.n(g),b=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.md=new m.a({html:!0}),t.mdContent="",t}return Object(o["a"])(i,[{key:"mounted",value:function(){this.mdContent=this.md.render(this.config.content).replace(/<table/g,'<div class="table-container"><table').replace(/<\/table>/g,"</table></div>"),document.querySelectorAll(".storyramp-app a:not([target])").forEach((function(t){return t.target="_blank"}))}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],b.prototype,"config",void 0),b=Object(d["a"])([Object(u["a"])({components:{Scrollama:v["a"]}})],b);var x=b,y=x,w=(i("d997"),i("2877")),O=Object(w["a"])(y,p,h,!1,null,"1e510200",null),j=O.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex flex-col h-full align-middle w-full"},[t.config.title?i("div",{staticClass:"px-10 mb-0 chapter-title top-20 map-title text-center"},[t._v(" "+t._s(t.config.title)+" ")]):t._e(),i("div",{staticClass:"w-full bg-gray-200 h-story rv-map",attrs:{id:"ramp-map-"+t.slideIdx}})])},k=[],_=i("3835"),V=(i("d3b7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"time-slider absolute w-full h-full left-0 flex flex-col items-center bg-white"},[i("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"absolute top-1 left-4 play-button",attrs:{content:t.$t(t.intervalID>=0?"timeslider.pause":"timeslider.play")},on:{click:function(e){t.intervalID>=0?t.endLoop():t.startLoop()}}},[-1===t.intervalID?i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[i("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),i("path",{attrs:{d:"M8 5v14l11-7z"}})]):i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[i("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),i("path",{attrs:{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}})])]),i("span",{staticClass:"my-2.5 text-base range-display"},[i("span",{},[t._v(t._s(t.range[0]))]),t.range[1]?i("span",{},[t._v(" - "+t._s(t.range[1]))]):t._e()]),i("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"absolute top-1 right-4 minimize-button",attrs:{content:t.$t(t.minimized?"timeslider.expand":"timeslider.minimize")},on:{click:function(e){return t.minimizeToggle()}}},[t.minimized?i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",width:"24",viewBox:"6 6 36 36",fill:"#595959"}},[i("path",{attrs:{d:"M14.15 30.75 12 28.6l12-12 12 11.95-2.15 2.15L24 20.85Z"}})]):i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"6 6 36 36",height:"24",width:"24",fill:"#595959"}},[i("path",{attrs:{d:"m24 30.75-12-12 2.15-2.15L24 26.5l9.85-9.85L36 18.8Z"}})])]),i("div",{staticClass:"time-slider-backdrop"}),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.minimized,expression:"!minimized"}],ref:"sliderTarget",staticClass:"noUi-target noUiSlider"})])}),S=[],I=(i("d81d"),i("1276"),i("99af"),i("4de4"),i("f528")),L=i.n(I),$=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.minimized=!1,t.loaded=!1,t.range=["",""],t.intervalID=-1,t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t=this;this.sliderElement=this.$refs.sliderTarget,this.slider=L.a.create(this.sliderElement,{start:this.config.start,range:{min:this.config.range[0],max:this.config.range[1]},connect:!0,step:1,pips:{mode:I["PipsMode"].Steps,density:1,filter:function(t){return t%1===0?1:-1}}}),this.slider.on("update",(function(){var e,i=t.slider.get();switch(Array.isArray(i)?t.range=i.map((function(t){return t.split(".")[0]})):t.range=[i.split(".")[0]],t.range.length){case 1:e="".concat(t.config.attribute," = ").concat(t.range[0]);break;default:e="".concat(t.config.attribute," >= ").concat(t.range[0]," AND ").concat(t.config.attribute," <= ").concat(t.range[1]);break}t.config.layers&&0!==t.config.layers.length?t.config.layers.forEach((function(i){var a=t.rInstance.geo.layer.getLayer(i);null===a||void 0===a||a.setSqlFilter("time_slider",e)})):t.rInstance.geo.layer.allLayers().filter((function(t){return t.supportsFeatures})).forEach((function(t){t.setSqlFilter("time_slider",e)}))}));var e=this.sliderElement.querySelectorAll(".noUi-handle");e.forEach((function(t){t.setAttribute("tabindex","-2")}))}},{key:"startLoop",value:function(){var t=this.slider.get();Array.isArray(t)&&this.slider.set(t.map((function(){return t[0]}))),this.intervalID=window.setInterval(this.moveHandleRight,1400)}},{key:"moveHandleRight",value:function(){var t,e=this,i=this.slider.get(!0);t=Array.isArray(i)?i.map((function(){return i[0]===e.config.range[1]?e.config.range[0]:i[0]+1})):[i===this.config.range[1]?this.config.range[0]:i+1],this.slider.set(t)}},{key:"endLoop",value:function(){clearInterval(this.intervalID),this.intervalID=-1}},{key:"minimizeToggle",value:function(){this.minimized=!this.minimized,this.minimized?this.$el.parentElement.classList.add("minimized"):this.$el.parentElement.classList.remove("minimized")}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],$.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],$.prototype,"rInstance",void 0),$=Object(d["a"])([u["a"]],$);var T=$,A=T,E=(i("a78b"),Object(w["a"])(A,V,S,!1,null,null,null)),M=E.exports,z=function(){function t(){Object(s["a"])(this,t)}return Object(o["a"])(t,[{key:"removed",value:function(){var t;null===(t=this.$vApp.$el.querySelector(".inner-shell"))||void 0===t||t.removeChild(this.timeSliderPanel)}},{key:"initTimeSlider",value:function(t,e){var i,a=this;this.timeSliderPanel=document.createElement("div");var n=new u["c"]({render:function(e){return e("time-slider",{props:{config:t,rInstance:a.$iApi}})},components:{"time-slider":M},i18n:e}).$mount();this.timeSliderPanel.classList.add("time-slider-container"),this.timeSliderPanel.appendChild(n.$el),null===(i=this.$vApp.$el.querySelector(".inner-shell"))||void 0===i||i.appendChild(this.timeSliderPanel)}}]),t}(),F=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.intersectTimeoutHandle=-1,t.scrollguardOpen=!1,t.mapComponent=void 0,t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t=this,e="".concat(this.config.config.substring(this.config.config.indexOf("/")+1));if(this.configFileStructure){var i=this.configFileStructure.zip.file(e);i&&i.async("string").then((function(e){t.config.config=e}))}var a=new IntersectionObserver((function(e){var i=Object(_["a"])(e,1),n=i[0];n.isIntersecting?t.intersectTimeoutHandle=window.setTimeout((function(){t.init(),a.disconnect()}),350):clearTimeout(t.intersectTimeoutHandle)}),{threshold:[0]});a.observe(this.$el)}},{key:"init",value:function(){var t=this;this.mapComponent=this.config.title?this.$el.children[1]:this.$el.children[0],fetch(this.config.config).then((function(e){e.json().then((function(e){var i=window.RAMP.createInstance(t.mapComponent,e);t.config.scrollguard&&i.fixture.add("scrollguard").then((function(t){t.setEnabled(!0)})),t.config.timeSlider&&i.fixture.add("time-slider",z).then((function(e){e.initTimeSlider(t.config.timeSlider,t.$i18n)}))}),(function(t){console.error("Error fetching map config JSON file: ".concat(t))}))}))}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],F.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],F.prototype,"slideIdx",void 0),Object(d["a"])([Object(u["b"])()],F.prototype,"lang",void 0),Object(d["a"])([Object(u["b"])()],F.prototype,"configFileStructure",void 0),F=Object(d["a"])([Object(u["a"])({components:{}})],F);var P=F,B=P,R=(i("48e5"),Object(w["a"])(B,C,k,!1,null,"2e19ccfb",null)),U=R.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"graphic self-start justify-center flex flex-col h-full align-middle py-5 w-full"},[i("full-screen",{attrs:{expandable:t.config.fullscreen,type:t.config.type}},[i("img",{ref:"img",staticClass:"graphic-image px-10 mx-auto my-6 flex object-contain sm:max-w-screen sm:max-h-screen",class:t.config.class,style:{width:t.config.width+"px",height:t.config.height+"px"},attrs:{src:t.slideIdx>2?"":t.config.src,alt:t.config.altText||""}})]),t.config.caption?i("div",{staticClass:"text-center text-sm max-w-full graphic-caption",domProps:{innerHTML:t._s(t.md.render(t.config.caption))}}):t._e()],1)},N=[],D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fullscreen",{attrs:{pageOnly:!0,teleport:!0,fullscreenClass:"fullscreenElement"},model:{value:t.fullscreen,callback:function(e){t.fullscreen=e},expression:"fullscreen"}},[i("div",{staticClass:"relative bg-white"},[void 0===t.expandable||t.expandable?i("button",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"top",hideOnClick:!1},expression:"{ placement: 'top', hideOnClick: false }"}],staticClass:"fullscreenButton expand-button absolute items-center justify-center p-3 z-10",class:[t.fullscreen?"top-0":"bottom-0","image"===t.type?"right-10":"right-2"],attrs:{"aria-label":t.$t("image.fullscreen"),content:t.$t(t.fullscreen?"fullscreen.deactivate":"fullscreen.activate")},on:{click:t.toggleFullscreen}},[i("svg",{directives:[{name:"show",rawName:"v-show",value:t.fullscreen,expression:"fullscreen"}],attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[i("path",{attrs:{d:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",fill:"#666666"}})]),i("svg",{directives:[{name:"show",rawName:"v-show",value:!t.fullscreen,expression:"!fullscreen"}],attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 0 24 24",width:"24px",fill:"#595959"}},[i("path",{attrs:{d:"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z"}})])]):t._e(),t._t("default")],2)])},q=[],J=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.fullscreen=!1,t}return Object(o["a"])(i,[{key:"toggleFullscreen",value:function(){this.fullscreen=!this.fullscreen}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],J.prototype,"expandable",void 0),Object(d["a"])([Object(u["b"])()],J.prototype,"type",void 0),J=Object(d["a"])([u["a"]],J);var W=J,Q=W,Y=(i("7375"),Object(w["a"])(Q,D,q,!1,null,null,null)),Z=Y.exports,G=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.md=new m.a({html:!0}),t.observer=t.slideIdx>2?new IntersectionObserver((function(e){var i=Object(_["a"])(e,1),a=i[0];a.isIntersecting&&(t.$refs.img.setAttribute("src",t.config.src),t.$forceUpdate(),t.observer.disconnect())})):void 0,t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t;null===(t=this.observer)||void 0===t||t.observe(this.$refs.img)}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],G.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],G.prototype,"slideIdx",void 0),G=Object(d["a"])([Object(u["a"])({components:{"full-screen":Z}})],G);var K=G,X=K,tt=(i("b13b"),Object(w["a"])(X,H,N,!1,null,null,null)),et=tt.exports,it=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},at=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bg-gray-100 text-center inline-block h-full align-middle"},[i("h1",{staticClass:"align-middle"},[t._v("Temporary Audio Panel")])])}],nt=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return i}(u["c"]);Object(d["a"])([Object(u["b"])()],nt.prototype,"config",void 0),nt=Object(d["a"])([Object(u["a"])({})],nt);var rt=nt,st=rt,ot=Object(w["a"])(st,it,at,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"video-container self-start justify-center flex flex-col h-full align-middle py-5 w-full"},["YouTube"===t.config.videoType?[i("iframe",{staticClass:"media-player",attrs:{src:t.config.src,width:t.config.width?t.config.width:"100%",height:t.config.height?t.config.height:"500px",allowfullscreen:""}})]:t._e(),"local"===t.config.videoType||"external"===t.config.videoType?[i("video",{staticClass:"media-player",attrs:{title:t.config.title,poster:t.config.thumbnailUrl,width:t.config.width?t.config.width:"100%",height:t.config.height?t.config.height:"500px",controls:""}},[i("source",{attrs:{type:t.fileType,src:t.config.src}}),t.config.caption?i("track",{attrs:{kind:"captions",src:t.config.caption,srclang:t.lang,label:t.langs[t.lang]}}):t._e()])]:t._e(),i("figcaption",{staticClass:"bg-gray-200 rounded"},[i("button",{staticClass:"flex w-full items-center justify-between p-4",class:{"hover:bg-gray-300":t.config.transcript,"cursor-pointer":t.config.transcript,"pointer-events-none":!t.transcriptContent},on:{click:function(e){return t.toggleTranscript()}}},[i("span",{staticClass:"font-semibold"},[t._v(t._s(t.config.title)+" "),t.config.transcript?i("span",[t._v("("+t._s(t.$t("video.transcript"))+")")]):t._e()]),t.config.transcript?i("div",{staticClass:"float-right"},[t.expandTranscript?i("svg",{staticClass:"h-6 w-6"},[i("g",{attrs:{id:"chevron-down"}},[i("path",{attrs:{d:"M 7.41348,8.58407L 11.9995,13.1701L 16.5855,8.58407L 17.9995,9.99807L 11.9995,15.9981L 5.99948,9.99807L 7.41348,8.58407 Z "}})])]):i("svg",{staticClass:"h-6 w-6"},[i("g",{attrs:{id:"chevron-up"}},[i("path",{attrs:{d:"M 7.41351,15.4121L 11.9995,10.8261L 16.5855,15.4121L 17.9995,13.9981L 11.9995,7.99807L 5.99951,13.9981L 7.41351,15.4121 Z "}})])])]):t._e()]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.expandTranscript,expression:"expandTranscript"}],staticClass:"content border border-gray-300 p-4"},[i("div",{domProps:{innerHTML:t._s(t.transcriptContent)}})])])],2)},dt=[],ut=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.lang="en",t.langs={en:"English",fr:"French"},t.fileType="",t.expandTranscript=!1,t.md=new m.a({html:!0}),t.rawTranscript="",t.transcriptContent="",t}return Object(o["a"])(i,[{key:"created",value:function(){if(this.lang=this.$route.params.lang?this.$route.params.lang:"en","external"===this.config.videoType||"local"===this.config.videoType){var t=this.extensionType(this.config.src);this.fileType="video/".concat(t)}}},{key:"mounted",value:function(){var t=this;if(this.config.transcript){var e=this.extensionType(this.config.transcript);fetch(this.config.transcript).then((function(i){i.text().then((function(i){t.rawTranscript=i,t.transcriptContent="md"===e?t.md.render(t.rawTranscript):t.rawTranscript}))}))}}},{key:"toggleTranscript",value:function(){this.expandTranscript=!this.expandTranscript}},{key:"extensionType",value:function(t){var e=t.substring(t.lastIndexOf("/")+1);return e.split(".").pop()}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],ut.prototype,"config",void 0),ut=Object(d["a"])([Object(u["a"])({})],ut);var ft=ut,pt=ft,ht=(i("bfff"),Object(w["a"])(pt,ct,dt,!1,null,null,null)),vt=ht.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return 1===t.config.images.length?i("div",[i("image-panel",{key:t.config.images[0].src,attrs:{config:t.config.images[0],configFileStructure:t.configFileStructure}})],1):i("div",{staticClass:"flex"},[i("div",{ref:"images",staticClass:"carousel self-center px-10 my-8 mx-auto bg-gray-200_ h-28_",style:{width:t.width+"px"}},[i("full-screen",{attrs:{expandable:t.config.fullscreen,type:t.config.type}},[-1!==t.width?i("hooper",{ref:"carousel",staticClass:"h-full bg-white",attrs:{infiniteScroll:t.config.loop}},[t._l(t.config.images,(function(e,a){return i("slide",{key:a,staticClass:"self-center",attrs:{index:a}},[i("img",{staticClass:"m-auto story-graphic carousel-image",style:{width:e.width+"px",height:e.height+"px"},attrs:{"data-src":e.src,src:t.slideIdx>2?"":e.src,alt:e.altText||""}}),e.caption?i("div",{staticClass:"text-center my-8 text-sm",domProps:{innerHTML:t._s(t.md.render(e.caption))}}):t._e()])})),i("hooper-navigation",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"}),i("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2):t._e()],1),t.config.caption?i("div",{staticClass:"text-center mt-5 text-sm",domProps:{innerHTML:t._s(t.md.render(t.config.caption))}}):t._e()],1)])},mt=[],bt=(i("3ca3"),i("ddb0"),i("2b3d"),i("7e04")),xt=(i("955f"),function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.width=-1,t.md=new m.a({html:!0}),t.observer=t.slideIdx>2?new IntersectionObserver((function(e){var i=Object(_["a"])(e,1),a=i[0];a.isIntersecting&&(t.$refs.images.querySelectorAll(".carousel-image").forEach((function(t){t.setAttribute("src",t.getAttribute("data-src"))})),t.$forceUpdate(),t.observer.disconnect())})):void 0,t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t,e=this;(setTimeout((function(){e.width=e.$el.clientWidth}),100),this.configFileStructure&&this.config.images.forEach((function(t){var i="".concat(t.src.substring(t.src.indexOf("/")+1)),a=e.configFileStructure.zip.file(i);a&&a.async("blob").then((function(i){t.src=URL.createObjectURL(i),e.$forceUpdate()}))})),this.config.images.length>1)&&(null===(t=this.observer)||void 0===t||t.observe(this.$refs.images))}}]),i}(u["c"]));Object(d["a"])([Object(u["b"])()],xt.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],xt.prototype,"configFileStructure",void 0),Object(d["a"])([Object(u["b"])()],xt.prototype,"slideIdx",void 0),xt=Object(d["a"])([Object(u["a"])({components:{Hooper:bt["a"],Slide:bt["d"],"full-screen":Z,HooperNavigation:bt["b"],HooperPagination:bt["c"],"image-panel":et}})],xt);var yt=xt,wt=yt,Ot=(i("5602"),Object(w["a"])(wt,gt,mt,!1,null,"574e04e7",null)),jt=Ot.exports,Ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex"},[i("div",{staticClass:"carousel self-center px-10 my-8 mx-auto bg-gray-200_",style:{width:t.width+"px"}},[-1!==t.width&&t.config.charts.length>1?i("hooper",{ref:"carousel",staticClass:"h-full",attrs:{infiniteScroll:t.config.loop}},[t._l(t.config.charts,(function(e,a){return i("slide",{key:"chart-"+a,staticClass:"self-center",attrs:{index:a}},[i("dqv-chart",{attrs:{config:e,configFileStructure:t.configFileStructure}})],1)})),i("hooper-navigation",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"}),i("hooper-pagination",{attrs:{slot:"hooper-addons"},slot:"hooper-addons"})],2):-1!==t.width?i("div",[i("dqv-chart",{attrs:{config:t.config.charts[0],configFileStructure:t.configFileStructure}})],1):t._e()],1)])},kt=[],_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dv-chart justify-center flex align-middle",attrs:{"dv-config":"config"}},[t.loading?t._e():i("div",{staticClass:"dv-chart-container items-stretch h-full w-full",attrs:{role:"region","aria-hidden":"false","aria-label":t.title}},[i("highcharts",{ref:"chart",attrs:{options:t.chartOptions}})],1)])},Vt=[],St=i("5530"),It=(i("fb6a"),i("4452")),Lt=i("ea7f"),$t=i.n(Lt),Tt=i("668e"),At=i.n(Tt),Et=i("0319"),Mt=i.n(Et),zt=i("d68a"),Ft=i.n(zt);At()($t.a),Mt()($t.a),Ft()($t.a);var Pt=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.chartOptions={},t.title="",t.loading=!0,t.menuOptions=["viewFullscreen","printChart","separator","downloadPNG","downloadJPEG","downloadPDF","downloadSVG","separator","downloadCSV","downloadXLS"],t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t=this,e=this.$el.clientWidth<=640;if(e||this.menuOptions.push("viewData"),this.config.config)this.chartOptions=this.config.config,this.title=this.chartOptions.title.text,this.loading=!1,this.chartOptions.exporting?this.chartOptions.exporting.buttons.contextButton={menuItems:this.menuOptions}:this.chartOptions.exporting={buttons:{contextButton:{menuItems:this.menuOptions}}};else if(this.config.src){var i=this.config.src.split(".").pop(),a="".concat(this.config.src.substring(this.config.src.indexOf("/")+1));if("json"===i)fetch(this.config.src).then((function(e){e.json().then((function(e){t.chartOptions=e,t.title=t.chartOptions.title.text,t.loading=!1,t.chartOptions.exporting?t.chartOptions.exporting.buttons.contextButton={menuItems:t.menuOptions}:t.chartOptions.exporting={buttons:{contextButton:{menuItems:t.menuOptions}}}}),(function(t){console.error("Error fetching chart JSON file: ".concat(t))}))}));else if("csv"===i)if(this.configFileStructure){var n=this.configFileStructure.zip.file(a);n&&n.async("blob").then((function(e){t.parseCSVFile(e)}))}else fetch(this.config.src).then((function(e){t.parseCSVFile(e)}))}}},{key:"parseCSVFile",value:function(t){var e=this,i=this.config.options,a={buttons:{contextButton:{menuItems:this.menuOptions}},enabled:void 0===(null===i||void 0===i?void 0:i.export)||(null===i||void 0===i?void 0:i.export)},n=Object(St["a"])(Object(St["a"])(Object(St["a"])(Object(St["a"])({chart:Object(St["a"])(Object(St["a"])({renderTo:"dv-chart-container",type:null===i||void 0===i?void 0:i.type},(null===i||void 0===i?void 0:i.height)&&this.$el.clientHeight>=i.height&&{height:i.height}),(null===i||void 0===i?void 0:i.width)&&this.$el.clientWidth>=i.width&&{width:i.width})},(null===i||void 0===i?void 0:i.title)&&{title:{text:null===i||void 0===i?void 0:i.title}}),(null===i||void 0===i?void 0:i.subtitle)&&{subtitle:{text:null===i||void 0===i?void 0:i.subtitle}}),(null===i||void 0===i?void 0:i.colours)&&{colors:null===i||void 0===i?void 0:i.colours}),{},{exporting:a,credits:{enabled:void 0!==(null===i||void 0===i?void 0:i.credits)&&(null===i||void 0===i?void 0:i.credits)}});this.$papa.parse(t.url?t.url:t,{header:"pie"!==(null===i||void 0===i?void 0:i.type),dynamicTyping:!0,download:!!t.url,complete:function(t){"pie"===(null===i||void 0===i?void 0:i.type)?e.makePieChart(t.data,n):e.makeLineChart(t.meta.fields,t.data,n)}}),this.loading=!1}},{key:"makePieChart",value:function(t,e){var i={name:"",data:[]};i.name=t[0][0];var a=t[0][1];t.slice(1).forEach((function(t){i.data.push({name:t[0],y:parseFloat(t[1])})}));var n={pie:{name:"",allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0,format:"<b>{point.name}</b>: {point.percentage:.1f} %"}}};this.chartOptions=Object(St["a"])(Object(St["a"])({},e),{},{plotOptions:n,series:i,yAxis:{title:{text:a}}}),this.$emit("loaded",this.chartOptions)}},{key:"makeLineChart",value:function(t,e,i){var a=this.config.options,n=t.shift(),r={title:{text:null!==a&&void 0!==a&&a.xAxisLabel?null===a||void 0===a?void 0:a.xAxisLabel:""},categories:e.map((function(t){return t[n]}))},s=[];t.forEach((function(t){var i=e.map((function(e){return e[t]}));s.push({name:t,data:i})})),this.chartOptions=Object(St["a"])(Object(St["a"])({},i),{},{series:s,xAxis:r,yAxis:{title:{text:null!==a&&void 0!==a&&a.yAxisLabel?null===a||void 0===a?void 0:a.yAxisLabel:""}}}),this.$emit("loaded",this.chartOptions)}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],Pt.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],Pt.prototype,"configFileStructure",void 0),Pt=Object(d["a"])([Object(u["a"])({components:{highcharts:It["Chart"]}})],Pt);var Bt=Pt,Rt=Bt,Ut=(i("51aa"),Object(w["a"])(Rt,_t,Vt,!1,null,null,null)),Ht=Ut.exports,Nt=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.width=-1,t}return Object(o["a"])(i,[{key:"mounted",value:function(){var t=this;setTimeout((function(){t.width=t.$el.clientWidth-64}),100)}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],Nt.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],Nt.prototype,"configFileStructure",void 0),Nt=Object(d["a"])([Object(u["a"])({components:{"dqv-chart":Ht,Hooper:bt["a"],Slide:bt["d"],HooperNavigation:bt["b"],HooperPagination:bt["c"]}})],Nt);var Dt=Nt,qt=Dt,Jt=(i("e230"),Object(w["a"])(qt,Ct,kt,!1,null,"2cbec786",null)),Wt=Jt.exports,Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"story-slide w-full h-full flex sm:flex-row flex-col",attrs:{id:t.$vnode.key}},[i("Scrollama",{staticClass:"flex-1 order-2 sm:order-1 prose max-w-none my-5"},[i(t.config.titleTag||"h2",{tag:"component",staticClass:"px-10 mb-0 chapter-title top-20",style:t.activeIdx!==t.defaultPanel.id?"margin-top: 0px;":""},[t._v(" "+t._s(t.config.title)+" ")]),i("div",{staticClass:"px-10 md-content",domProps:{innerHTML:t._s(t.md.render(t.config.content))}})],1),i("div",{class:"text"!==t.activeConfig.type?"sticky "+("map"===t.activeConfig.type?"top-16":"top-8")+" sm:self-start flex-2 order-1 sm:order-2 z-40 dynamic-content-media sm:flex-col":"flex-2 order-2 sm:order-1 dynamic-content-text"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.activeIdx!==t.defaultPanel.id,expression:"activeIdx !== defaultPanel.id"}],staticClass:"return-button-container top-16"},[i("button",{staticClass:"return-button py-1 text-base right-0 absolute",on:{click:t.clickBack}},[i("img",{staticStyle:{display:"inline",margin:"0px"},attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAB4UlEQVRIie3WP08WQRAG8J+2SolRQaLyKvR+BTsVaQnfwD9YCH4PS6I2ViAS1GhMKLWESkzUmBAT7azECoS8Fjcvqxe52zuMseBJNpebe2ae2dmdveUA/wiHGnCHcBWXcBqDYf+CT3iOp/j8t5IbwCy20a0ZO3gUie0L4/geQTcxhwmM4EiMkbDNB6eLDYy1Fb2lmEEXj3E2w2cYi9Lsp5qKjofjNm43dcZ0+O9oMPNBqbxtRHuYkcp+MsfhgVTe/WIpYt2rIw4pyrtp7zU9hlW8zhDuRKxtqf3+iJuR4VyF6FpwVjKEKdqri+tVpJdBmqgRXYv3HEyGz4sq0scgnSvZ+/Emvr3D8UxRij7v4n0VaSNIfSX7qvpTqzfKa98n7e5dHG6QeS66bZw+hOP5kr1c6hMNYo7+4reL8ozX43mhZP+Ki3gbgZblb65erPUq0o3Ibn6P723aaSH416pIp6QDZLhCfAWvMkQ72MIPNQcI3I8MFzMC1+FJxJrNIQ9IbTW9D9E7EeObBptxTPqtzbQU7flfaeo8JV0ElhTrVYeOVN4dxdnfCmNS2bcUB/6koqWOxhgN20JweuW93Fa0h37cVezMnMveQxlr2uR6Oyhdb8/4/Xq7rvj7PIv3A/w/+Am/TqGFCMnpPgAAAABJRU5ErkJggg==",alt:t.$t("dynamic.back")}}),t._v(" "+t._s(t.$t("dynamic.back"))+" ")])]),i("panel",{ref:"content",staticClass:"flex-2",attrs:{config:t.activeConfig,slideIdx:t.slideIdx,dynamicIdx:t.activeIdx,ratio:!1}})],1)],1)},Yt=[],Zt=(i("a630"),i("7db0"),function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(s["a"])(this,i),t=e.apply(this,arguments),t.defaultPanel=t.config.children[0],t.activeConfig=t.defaultPanel.panel,t.activeIdx=t.defaultPanel.id,t.md=new m.a({html:!0}),t}return Object(o["a"])(i,[{key:"mounted",value:function(){document.querySelectorAll(".storyramp-app a:not([target])").forEach((function(t){return t.target="_blank"})),this.addDynamicURLs()}},{key:"addDynamicURLs",value:function(){var t=this,e=Array.from(this.$el.querySelectorAll("a[panel]"));e.forEach((function(e){var i,a=null===(i=e.attributes.getNamedItem("panel"))||void 0===i?void 0:i.value;e.style.setProperty("text-decoration-style","dotted"),e.style.setProperty("text-underline-offset","3px"),e.href="javascript:;",e.target="_self",e.onclick=function(){var e=t.config.children.find((function(t){return a==t.id}));e&&(t.activeConfig={type:"loading"},setTimeout((function(){t.activeConfig=e.panel,t.activeIdx=e.id}),10),setTimeout((function(){var e=t.$refs["content"].$el.getBoundingClientRect().top;window.scrollTo({top:window.pageYOffset+e-63,left:0,behavior:"smooth"})}),50))}}))}},{key:"clickBack",value:function(){var t=this;this.activeConfig={type:"loading"},setTimeout((function(){t.activeConfig=t.defaultPanel.panel,t.activeIdx=t.defaultPanel.id}),10),setTimeout((function(){var e=t.$refs["content"].$el.getBoundingClientRect().top;window.scrollTo({top:window.pageYOffset+e-63,left:0,behavior:"smooth"})}),50)}}]),i}(u["c"]));Object(d["a"])([Object(u["b"])()],Zt.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],Zt.prototype,"slideIdx",void 0),Zt=Object(d["a"])([Object(u["a"])({components:{panel:function(){return Promise.resolve().then(i.bind(null,"5d6a"))},Scrollama:v["a"]}})],Zt);var Gt=Zt,Kt=Gt,Xt=(i("aea4"),Object(w["a"])(Kt,Qt,Yt,!1,null,"6fa80e56",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Scrollama",{staticClass:"flex-1 prose max-w-none my-5"},[i("div",{staticClass:"block py-20 align-middle text-center h-full",staticStyle:{margin:"0 auto"}},[i("spinner",{staticStyle:{margin:"0 auto"},attrs:{size:"120px",background:"#00D2D3",color:"#009cd1",stroke:"10px"}})],1)])},ie=[],ae=i("c95d"),ne=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return i}(u["c"]);ne=Object(d["a"])([Object(u["a"])({components:{Scrollama:v["a"],spinner:ae["a"]}})],ne);var re=ne,se=re,oe=Object(w["a"])(se,ee,ie,!1,null,"07993d41",null),le=oe.exports,ce=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(s["a"])(this,i),e.apply(this,arguments)}return Object(o["a"])(i,[{key:"getTemplate",value:function(){var t,e=(t={},Object(r["a"])(t,f["a"].Text,j),Object(r["a"])(t,f["a"].Map,U),Object(r["a"])(t,f["a"].Image,et),Object(r["a"])(t,f["a"].Audio,lt),Object(r["a"])(t,f["a"].Video,vt),Object(r["a"])(t,f["a"].Slideshow,jt),Object(r["a"])(t,f["a"].Chart,Wt),Object(r["a"])(t,f["a"].Dynamic,te),Object(r["a"])(t,f["a"].Loading,le),t);return e[this.config.type]}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],ce.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],ce.prototype,"configFileStructure",void 0),Object(d["a"])([Object(u["b"])()],ce.prototype,"ratio",void 0),Object(d["a"])([Object(u["b"])()],ce.prototype,"slideIdx",void 0),Object(d["a"])([Object(u["b"])()],ce.prototype,"lang",void 0),ce=Object(d["a"])([Object(u["a"])({components:{TextPanelV:j}})],ce);var de=ce,ue=de,fe=Object(w["a"])(ue,a,n,!1,null,"229a3744",null);e["default"]=fe.exports},6294:function(t,e,i){"use strict";i("1137")},7077:function(t,e,i){},"722d":function(t,e,i){},7375:function(t,e,i){"use strict";i("7f06")},"74c8":function(t,e,i){},7958:function(t,e,i){"use strict";i("fe9a")},"7d77":function(t,e,i){"use strict";i("0fee")},"7f06":function(t,e,i){},"8d89":function(t,e,i){},a78b:function(t,e,i){"use strict";i("8d89")},aea4:function(t,e,i){"use strict";i("0008")},b13b:function(t,e,i){"use strict";i("27e4")},b149:function(t,e,i){},bfff:function(t,e,i){"use strict";i("74c8")},c87e:function(t,e,i){},cd49:function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2fe1");a["b"].registerHooks(["beforeRouterEnter","beforeRouteLeave","beforeRouteUpdate"]);var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"storyramp-app bg-white",attrs:{id:"app"}},[i("router-view",{key:t.$route.path})],1)},s=[],o=i("d4ec"),l=i("262e"),c=i("2caf"),d=i("9ab4"),u=i("1b40"),f=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(o["a"])(this,i),e.apply(this,arguments)}return i}(u["c"]);f=Object(d["a"])([Object(u["a"])({})],f);var p=f,h=p,v=(i("6294"),i("2877")),g=Object(v["a"])(h,r,s,!1,null,null,null),m=g.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return"loading"===t.loadStatus?i("div",[i("div",{staticClass:"block py-20 align-middle text-center h-full",staticStyle:{margin:"0 auto"}},[i("spinner",{staticStyle:{margin:"0 auto"},attrs:{size:"120px",background:"#00D2D3",color:"#009cd1",stroke:"10px"}})],1)]):"error"===t.loadStatus?i("div",[i("div",{staticClass:"block py-20 align-middle text-center h-full",staticStyle:{margin:"0 auto"}},[i("div",{staticStyle:{"font-size":"200px"}},[t._v("!")]),i("div",[t._v(" "+t._s(t.$t("story.error"))+" ")])])]):"loaded"===t.loadStatus?i("div",[void 0!==t.config?i("div",{staticClass:"storyramp-app bg-white"},[i("header",{staticClass:"story-header sticky top-0 w-full h-16 leading-9 bg-white border-b border-gray-200"},[i("div",{staticClass:"flex w-full sm:px-6 py-3 mx-auto"},[i("MobileMenuV",{staticClass:"mobile-menu",attrs:{"active-chapter-index":t.activeChapterIndex,slides:t.config.slides,lang:t.lang}}),i("div",{staticClass:"flex-none w-mobile-full truncate font-semibold"},[i("span",{staticClass:"text-lg"},[t._v(t._s(t.config.title))])]),i("div",{staticClass:"flex justify-end flex-auto space-x-6"})],1)]),i("introduction",{attrs:{config:t.config.introSlide}}),i("div",{staticClass:"w-full mx-auto pb-10",attrs:{id:"story"}},[i("StoryContentV",{attrs:{config:t.config,lang:t.lang},on:{step:t.updateActiveIndex}})],1),i("footer",{staticClass:"p-8 pt-2 text-right text-sm"},[t._v(" Context: "),i("a",{staticClass:"text-blue-700 font-semibold",attrs:{href:t.config.contextLink,target:"_NEW"}},[t._v(t._s(t.config.contextLabel))]),t._v(" | "),i("a",{staticClass:"font-semibold text-blue-700",attrs:{href:"https://github.com/ramp4-pcar4/story-ramp",target:"_NEW"}},[t._v("ramp4-pcar4/story-ramp")])]),t.config.dateModified?i("div",{staticClass:"storyramp-modified"},[t._v(" "+t._s(t.$t("story.date"))+" "+t._s(t.config.dateModified)+" ")]):t._e()],1):t._e()]):t._e()},x=[],y=i("bee2"),w=(i("d3b7"),i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sticky w-12 duration-500 ease-in-out transition-width"},[i("div",{staticClass:"flex px-3 py-2"},[i("button",{attrs:{"aria-label":t.$t("chapters.menu")},on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#707070"}},[i("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 7h"+(t.isMenuOpen?"17":"8.5")}}),i("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 12h"+(t.isMenuOpen?"17":"8.5")}}),i("path",{attrs:{d:"m3.5 17h17"}})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"flex items-center mt-3 py-4 w-72 bg-white"},[i("span",{staticClass:"flex-2 pl-2 ml-4 leading-normal"},[t._v(t._s(t.$t("chapters.title")))]),i("button",{attrs:{"aria-label":t.$t("chapters.menu")},on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}},[i("svg",{staticClass:"flex-shrink-0 mr-4",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#c0c0c0",stroke:"#c0c0c0"}},[i("path",{attrs:{d:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"}})])])]),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"dropdown-nav-content bg-white pb-10 w-72 z-10 border-r border-gray-200"},[i("li",[i("router-link",{staticClass:"flex py-1 px-3",attrs:{to:{hash:"#intro"},target:""}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(t.$t("chapters.return")))])])],1),t._l(t.slides,(function(e,a){return i("li",{key:a,class:{"is-active":t.activeChapterIndex===a}},[i("router-link",{staticClass:"flex py-1 px-3",attrs:{to:{hash:"#"+a+"-"+e.title.toLowerCase().replaceAll(" ","-")},target:""}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(e.title))])])],1)}))],2)])}),O=[],j=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.isMenuOpen=!1,t}return i}(u["c"]);Object(d["a"])([Object(u["b"])()],j.prototype,"slides",void 0),Object(d["a"])([Object(u["b"])()],j.prototype,"activeChapterIndex",void 0),Object(d["a"])([Object(u["b"])()],j.prototype,"lang",void 0),j=Object(d["a"])([u["a"]],j);var C=j,k=C,_=(i("4044"),Object(v["a"])(k,w,O,!1,null,"1c86e27a",null)),V=_.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flex items-stretch"},[i("ChapterMenuV",{staticClass:"side-menu",attrs:{"active-chapter-index":t.activeChapterIndex,slides:t.config.slides,editor:!!t.configFileStructure,lang:t.lang}}),i("Scrollama",{staticClass:"relative story-scrollama w-full flex-grow min-w-0",on:{"step-enter":t.stepEnter}},t._l(t.config.slides,(function(e,a){return i("div",{key:a,staticClass:"flex pt-24",attrs:{"data-chapter-index":a,id:a+"-"+e.title.toLowerCase().replaceAll(" ","-"),name:a+"-"+e.title.toLowerCase().replaceAll(" ","-")}},[i("slide",{attrs:{config:e,configFileStructure:t.configFileStructure,slideIdx:a,lang:t.lang}})],1)})),0)],1)},I=[],L=(i("5abe"),i("a57f")),$=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav-bar sticky self-start w-12 duration-500 ease-in-out transition-width top-16",class:t.isMenuOpen?"w-72":""},[i("div",{staticClass:"flex items-center mt-4 mb-12"},[t.isMenuOpen?t._e():i("tippy",{attrs:{to:"menu-button-tippy",placement:"right",delay:"200"}},[t._v(t._s(t.$t("chapters.title")))]),i("button",{staticClass:"flex items-center flex-shrink-0 px-2 py-1 mx-1 overflow-hidden",attrs:{name:"menu-button-tippy","aria-label":t.$t("chapters.menu")},on:{click:function(e){t.isMenuOpen=!t.isMenuOpen}}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"#707070"}},[i("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 7h"+(t.isMenuOpen?"17":"8.5")}}),i("path",{staticClass:"transition-all duration-500 ease-in-out",attrs:{d:"m3.5 12h"+(t.isMenuOpen?"17":"8.5")}}),i("path",{attrs:{d:"m3.5 17h17"}})]),i("span",{staticClass:"flex-1 pl-2 ml-2 overflow-hidden leading-normal text-left overflow-ellipsis whitespace-nowrap"},[t._v(t._s(t.$t("chapters.title")))])])],1),i("ul",{staticClass:"nav-content menu"},[i("li",[i("tippy",{attrs:{to:"menu-options-tippy",delay:"200",placement:"right"}},[t._v(t._s(t.$t("chapters.return")))]),t.editor?i("button",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy"},on:{click:function(e){return t.scrollToChapter("intro")}}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(t.$t("chapters.return")))])]):i("router-link",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy",to:{hash:"#intro"},target:""}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(t.$t("chapters.return")))])])],1),t._l(t.slides,(function(e,a){return i("li",{key:a,class:{"is-active":t.activeChapterIndex===a}},[i("tippy",{attrs:{to:"menu-options-tippy-"+a,delay:"200",placement:"right"}},[t._v(t._s(e.title))]),t.editor?i("button",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy-"+a},on:{click:function(i){t.scrollToChapter(a+"-"+e.title.toLowerCase().replaceAll(" ","-"))}}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(e.title))])]):i("router-link",{staticClass:"flex items-center px-2 py-1 mx-1",attrs:{name:"menu-options-tippy-"+a,to:{hash:"#"+a+"-"+e.title.toLowerCase().replaceAll(" ","-")},target:""}},[i("svg",{staticClass:"flex-shrink-0",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"#fff",stroke:"#878787"}},[i("path",{attrs:{d:"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z","stroke-width":".93974"}})]),i("span",{staticClass:"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap"},[t._v(t._s(e.title))])])],1)})),i("div",{staticClass:"h-10 flex-shrink-0"})],2)])},T=[],A=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.isMenuOpen=!1,t}return Object(y["a"])(i,[{key:"scrollToChapter",value:function(t){var e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],A.prototype,"slides",void 0),Object(d["a"])([Object(u["b"])()],A.prototype,"activeChapterIndex",void 0),Object(d["a"])([Object(u["b"])()],A.prototype,"lang",void 0),Object(d["a"])([Object(u["b"])()],A.prototype,"editor",void 0),A=Object(d["a"])([u["a"]],A);var E=A,M=E,z=(i("7d77"),Object(v["a"])(M,$,T,!1,null,"c97468b0",null)),F=z.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"story-slide h-full w-full flex sm:flex-row flex-col",attrs:{id:t.$vnode.key}},t._l(t.config.panel,(function(e,a){return i("panel",{key:a,attrs:{config:e,configFileStructure:t.configFileStructure,index:a,ratio:t.defaultRatio,slideIdx:t.slideIdx,lang:t.lang}})})),1)},B=[],R=i("3101"),U=i("5d6a"),H=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.defaultRatio=!1,t}return Object(y["a"])(i,[{key:"mounted",value:function(){var t,e,i=this.config.panel;if(2==i.length&&(null===(t=i[0])||void 0===t||!t.width)&&(null===(e=i[1])||void 0===e||!e.width)){var a,n,r=(null===(a=i[0])||void 0===a?void 0:a.type)===R["a"].Text,s=(null===(n=i[1])||void 0===n?void 0:n.type)===R["a"].Text;(r&&!s||!r&&s)&&(this.defaultRatio=!0)}}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],H.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],H.prototype,"configFileStructure",void 0),Object(d["a"])([Object(u["b"])()],H.prototype,"slideIdx",void 0),Object(d["a"])([Object(u["b"])()],H.prototype,"lang",void 0),H=Object(d["a"])([Object(u["a"])({components:{panel:U["default"]}})],H);var N=H,D=N,q=Object(v["a"])(D,P,B,!1,null,"410cff9a",null),J=q.exports,W=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.activeChapterIndex=-1,t}return Object(y["a"])(i,[{key:"mounted",value:function(){var t=this.$route.hash.substring(1);if(t){var e=decodeURIComponent(t),i=document.getElementById(e);null===i||void 0===i||i.scrollIntoView({behavior:"smooth"})}}},{key:"stepEnter",value:function(t){var e=t.element;this.activeChapterIndex=parseInt(e.dataset.chapterIndex||"-1"),this.$emit("step",this.activeChapterIndex)}}]),i}(u["c"]);Object(d["a"])([Object(u["b"])()],W.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],W.prototype,"configFileStructure",void 0),Object(d["a"])([Object(u["b"])()],W.prototype,"lang",void 0),W=Object(d["a"])([Object(u["a"])({components:{Scrollama:L["a"],ChapterMenuV:F,slide:J}})],W);var Q=W,Y=Q,Z=(i("eb90"),Object(v["a"])(Y,S,I,!1,null,"5380b928",null)),G=Z.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"py-24 mx-auto text-center max-w-9xl",attrs:{id:"intro"}},[t.config.logo&&t.config.logo.src?i("img",{staticClass:"inline-block",attrs:{src:t.config.logo.src,alt:t.config.logo.altText}}):t._e(),i("h1",{staticClass:"m-10 text-5xl font-bold text-gray-800"},[t._v(" "+t._s(t.config.title)+" ")]),i("p",{staticClass:"w-1/2 m-auto text-2xl font-semibold text-gray-500"},[t._v(" "+t._s(t.config.subtitle)+" ")]),t.configFileStructure?i("button",{on:{click:t.scrollToStory}},[i("svg",{staticClass:"w-auto h-24 m-auto",attrs:{width:"90",height:"104.84",viewBox:"0 0 90 104.83",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z",fill:"#fff",stroke:"#00d2d3","stroke-dasharray":"4.8960465, 4.8960465","stroke-dashoffset":"2.7","stroke-width":".5"}}),i("path",{attrs:{d:"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z",fill:"#00d2d3",stroke:"#00d2d3","stroke-width":".97921"}})])]):i("router-link",{staticClass:"inline-block mt-10 scroll-arrow",attrs:{to:{hash:"#story"},title:"scroll to story",target:""}},[i("svg",{staticClass:"w-auto h-24 m-auto",attrs:{width:"90",height:"104.84",viewBox:"0 0 90 104.83",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z",fill:"#fff",stroke:"#00d2d3","stroke-dasharray":"4.8960465, 4.8960465","stroke-dashoffset":"2.7","stroke-width":".5"}}),i("path",{attrs:{d:"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z",fill:"#00d2d3",stroke:"#00d2d3","stroke-width":".97921"}})])])],1)},X=[],tt=(i("3ca3"),i("ddb0"),i("2b3d"),function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){return Object(o["a"])(this,i),e.apply(this,arguments)}return Object(y["a"])(i,[{key:"mounted",value:function(){var t=this;if(this.configFileStructure){var e,i=null===(e=this.config.logo)||void 0===e?void 0:e.src;if(i){var a="".concat(i.substring(i.indexOf("/")+1)),n=this.configFileStructure.zip.file(a);n&&n.async("blob").then((function(e){t.config.logo.src=URL.createObjectURL(e),t.$forceUpdate()}))}}}},{key:"scrollToStory",value:function(){var t=document.getElementById("story");t&&t.scrollIntoView({behavior:"smooth"})}}]),i}(u["c"]));Object(d["a"])([Object(u["b"])()],tt.prototype,"config",void 0),Object(d["a"])([Object(u["b"])()],tt.prototype,"configFileStructure",void 0),tt=Object(d["a"])([Object(u["a"])({})],tt);var et=tt,it=et,at=Object(v["a"])(it,K,X,!1,null,null,null),nt=at.exports,rt=i("c95d"),st=function(t){Object(l["a"])(i,t);var e=Object(c["a"])(i);function i(){var t;return Object(o["a"])(this,i),t=e.apply(this,arguments),t.config=void 0,t.loadStatus="loading",t.activeChapterIndex=-1,t.lang="en",t}return Object(y["a"])(i,[{key:"created",value:function(){var t=this.$route.params.uid;this.lang=this.$route.params.lang?this.$route.params.lang:"en",t?this.fetchConfig(t,this.lang):(console.error("Please supply the language and id URL params in the form of /[lang]/[uid]."),window.location.href="https://www.canada.ca/errors/404.html");var e=document.documentElement;e.setAttribute("lang",this.lang),this.$i18n.locale=this.lang}},{key:"beforeRouteUpdate",value:function(t,e,i){var a=t.params.uid;this.lang=t.params.lang,this.$i18n.locale=this.lang,this.fetchConfig(a,this.lang),i()}},{key:"fetchConfig",value:function(t,e){var i=this;fetch("".concat(t,"/").concat(t,"_").concat(e,".json")).then((function(t){t.json().then((function(t){i.config=t,i.loadStatus="loaded",i.config&&(document.title=i.config.title+" - Canada.ca")}))})).catch((function(t){"MODULE_NOT_FOUND"===t.code?(console.error("There exists no config given by the URL params: ".concat(t)),window.location.href="https://www.canada.ca/errors/404.html"):(i.loadStatus="error",console.error(t.stack))}))}},{key:"updateActiveIndex",value:function(t){this.activeChapterIndex=t}}]),i}(u["c"]);st=Object(d["a"])([Object(u["a"])({components:{StoryContentV:G,MobileMenuV:V,introduction:nt,spinner:rt["a"]}})],st);var ot=st,lt=ot,ct=(i("7958"),Object(v["a"])(lt,b,x,!1,null,null,null)),dt=ct.exports,ut=i("8c4f");n["default"].use(ut["a"]);var ft=[{path:"/",component:dt},{path:"/:uid",component:dt},{path:"/:lang/:uid",component:dt}],pt=new ut["a"]({routes:ft,scrollBehavior:function(t){if(t.hash)return{selector:decodeURIComponent(t.hash),behavior:"smooth"}}}),ht=(i("38c8"),i("a925"));n["default"].use(ht["a"]);var vt=i("3d6d"),gt=document.documentElement.getAttribute("lang");function mt(t){return t.reduce((function(t,e){return t.en[e.key]=e.enValue,t.fr[e.key]=e.frValue,t}),{en:{},fr:{}})}var bt=new ht["a"]({locale:gt||void 0,fallbackLocale:"en",messages:mt(vt)}),xt=i("6018"),yt=i("4452"),wt=i.n(yt),Ot=i("f751"),jt=i("9076"),Ct=i.n(jt),kt=i("03cd"),_t=i.n(kt);n["default"].use(xt["b"]),n["default"].component("tippy",xt["a"]),n["default"].use(wt.a),n["default"].use(Ot["a"]),n["default"].use(Ct.a),n["default"].use(_t.a),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(m)},i18n:bt,router:pt}).$mount("#app")},d997:function(t,e,i){"use strict";i("2293")},e230:function(t,e,i){"use strict";i("2533")},eb90:function(t,e,i){"use strict";i("b149")},fe9a:function(t,e,i){}}]);
//# sourceMappingURL=chunk-common.d855afa7.js.map