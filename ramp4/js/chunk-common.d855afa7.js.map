{"version":3,"sources":["webpack:///./src/definitions.ts","webpack:///./src/lang/lang.csv","webpack:///./src/components/story/mobile-menu.vue?a8b2","webpack:///./src/components/panels/map-panel.vue?3477","webpack:///./src/components/panels/helpers/chart.vue?a764","webpack:///./src/components/panels/slideshow-panel.vue?1692","webpack:///./src/components/panels/panel.vue?8adf","webpack:///./src/components/panels/text-panel.vue?34d5","webpack:///./src/components/panels/text-panel.vue","webpack:///./src/components/panels/text-panel.vue?2aaf","webpack:///./src/components/panels/text-panel.vue?c277","webpack:///./src/components/panels/map-panel.vue?2c75","webpack:///./src/components/panels/helpers/time-slider/time-slider.vue?1b1e","webpack:///./src/components/panels/helpers/time-slider/time-slider.vue","webpack:///./src/components/panels/helpers/time-slider/time-slider.vue?d1e0","webpack:///./src/components/panels/helpers/time-slider/time-slider.vue?055c","webpack:///./src/components/panels/helpers/time-slider/index.ts","webpack:///./src/components/panels/map-panel.vue","webpack:///./src/components/panels/map-panel.vue?8ac2","webpack:///./src/components/panels/map-panel.vue?2025","webpack:///./src/components/panels/image-panel.vue?5db9","webpack:///./src/components/panels/helpers/fullscreen.vue?02f2","webpack:///./src/components/panels/helpers/fullscreen.vue","webpack:///./src/components/panels/helpers/fullscreen.vue?83a4","webpack:///./src/components/panels/helpers/fullscreen.vue?03f9","webpack:///./src/components/panels/image-panel.vue","webpack:///./src/components/panels/image-panel.vue?0c76","webpack:///./src/components/panels/image-panel.vue?fa85","webpack:///./src/components/panels/audio-panel.vue?75b6","webpack:///./src/components/panels/audio-panel.vue","webpack:///./src/components/panels/audio-panel.vue?869e","webpack:///./src/components/panels/audio-panel.vue?1de0","webpack:///./src/components/panels/video-panel.vue?2625","webpack:///./src/components/panels/video-panel.vue","webpack:///./src/components/panels/video-panel.vue?805e","webpack:///./src/components/panels/video-panel.vue?87a8","webpack:///./src/components/panels/slideshow-panel.vue?7cfb","webpack:///./src/components/panels/slideshow-panel.vue","webpack:///./src/components/panels/slideshow-panel.vue?d3fe","webpack:///./src/components/panels/slideshow-panel.vue?6667","webpack:///./src/components/panels/chart-panel.vue?ac8b","webpack:///./src/components/panels/helpers/chart.vue?cbd2","webpack:///./src/components/panels/helpers/chart.vue","webpack:///./src/components/panels/helpers/chart.vue?e437","webpack:///./src/components/panels/helpers/chart.vue?6c89","webpack:///./src/components/panels/chart-panel.vue","webpack:///./src/components/panels/chart-panel.vue?ac4a","webpack:///./src/components/panels/chart-panel.vue?05be","webpack:///./src/components/panels/dynamic-panel.vue?698f","webpack:///./src/components/panels/dynamic-panel.vue","webpack:///./src/components/panels/dynamic-panel.vue?4108","webpack:///./src/components/panels/dynamic-panel.vue?4fd5","webpack:///./src/components/panels/loading-panel.vue?aa73","webpack:///./src/components/panels/loading-panel.vue","webpack:///./src/components/panels/loading-panel.vue?63c5","webpack:///./src/components/panels/loading-panel.vue?8648","webpack:///./src/components/panels/panel.vue","webpack:///./src/components/panels/panel.vue?1606","webpack:///./src/components/panels/panel.vue?2c6a","webpack:///./src/app.vue?0aca","webpack:///./src/components/panels/helpers/fullscreen.vue?d4e3","webpack:///./src/components/story/story.vue?0839","webpack:///./src/components/story/chapter-menu.vue?88e5","webpack:///./src/components/panels/helpers/time-slider/time-slider.vue?2847","webpack:///./src/components/panels/dynamic-panel.vue?f43b","webpack:///./src/components/panels/image-panel.vue?db48","webpack:///./src/components/panels/video-panel.vue?0949","webpack:///./src/router/componentHooks.ts","webpack:///./src/app.vue?1832","webpack:///./src/app.vue","webpack:///./src/app.vue?fbd1","webpack:///./src/app.vue?1fa3","webpack:///./src/components/story/story.vue?c74c","webpack:///./src/components/story/mobile-menu.vue?7d73","webpack:///./src/components/story/mobile-menu.vue","webpack:///./src/components/story/mobile-menu.vue?62e9","webpack:///./src/components/story/mobile-menu.vue?8d3e","webpack:///./src/components/story/story-content.vue?c9ee","webpack:///./src/components/story/chapter-menu.vue?d369","webpack:///./src/components/story/chapter-menu.vue","webpack:///./src/components/story/chapter-menu.vue?b55b","webpack:///./src/components/story/chapter-menu.vue?6700","webpack:///./src/components/story/slide.vue?46b3","webpack:///./src/components/story/slide.vue","webpack:///./src/components/story/slide.vue?69dc","webpack:///./src/components/story/slide.vue?969b","webpack:///./src/components/story/story-content.vue","webpack:///./src/components/story/story-content.vue?8c85","webpack:///./src/components/story/story-content.vue?acf4","webpack:///./src/components/story/introduction.vue?071e","webpack:///./src/components/story/introduction.vue","webpack:///./src/components/story/introduction.vue?f206","webpack:///./src/components/story/introduction.vue?0df2","webpack:///./src/components/story/story.vue","webpack:///./src/components/story/story.vue?7828","webpack:///./src/components/story/story.vue?f6ef","webpack:///./src/router/index.ts","webpack:///./src/lang/index.ts","webpack:///./src/main.ts","webpack:///./src/components/panels/text-panel.vue?5991","webpack:///./src/components/panels/chart-panel.vue?1d74","webpack:///./src/components/story/story-content.vue?8bb5"],"names":["PanelType","res","columns","module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","config","type","_t","getTemplate","tag","style","attrs","configFileStructure","slideIdx","lang","staticRenderFns","titleTag","_v","_s","title","domProps","mdContent","md","html","content","replace","document","querySelectorAll","forEach","el","target","components","Scrollama","component","_e","directives","name","rawName","value","placement","hideOnClick","expression","$t","intervalID","on","$event","endLoop","startLoop","range","minimized","minimizeToggle","ref","loaded","sliderElement","$refs","sliderTarget","slider","create","start","min","max","connect","step","pips","mode","Steps","density","filter","val","sqlString","sliderValues","get","Array","isArray","map","n","split","length","attribute","layers","layerId","l","rInstance","geo","layer","getLayer","setSqlFilter","allLayers","supportsFeatures","sliderHandles","handle","setAttribute","set","window","setInterval","moveHandleRight","newValues","clearInterval","$el","parentElement","classList","add","remove","$vApp","querySelector","removeChild","timeSliderPanel","i18n","createElement","timeSliderComponent","h","props","$iApi","$mount","appendChild","intersectTimeoutHandle","scrollguardOpen","mapComponent","undefined","assetSrc","substring","indexOf","mapFile","zip","file","async","then","observer","IntersectionObserver","e","isIntersecting","setTimeout","init","disconnect","clearTimeout","threshold","observe","children","fetch","data","json","rampConfig","RAMP","createInstance","scrollguard","fixture","scrollguardFixture","setEnabled","timeSlider","ts","initTimeSlider","$i18n","err","console","error","fullscreen","width","height","src","altText","caption","model","callback","$$v","expandable","toggleFullscreen","image","img","$forceUpdate","_m","videoType","thumbnailUrl","fileType","langs","transcript","transcriptContent","toggleTranscript","en","fr","expandTranscript","rawTranscript","$route","params","ext","extensionType","text","fileName","lastIndexOf","pop","images","key","loop","_l","index","slot","getAttribute","clientWidth","imageFile","URL","createObjectURL","Hooper","Slide","HooperNavigation","HooperPagination","charts","chartConfig","loading","chartOptions","menuOptions","isMobile","push","exporting","buttons","contextButton","menuItems","extension","chartCsvFile","parseCSVFile","dqvOptions","options","exportOptions","enabled","export","defaultOptions","chart","renderTo","clientHeight","subtitle","colours","colors","credits","$papa","parse","url","header","dynamicTyping","download","complete","makePieChart","makeLineChart","meta","fields","csvData","series","ylabel","slice","y","parseFloat","plotOptions","pie","allowPointSelect","cursor","dataLabels","format","yAxis","$emit","cato","shift","xAxis","xAxisLabel","categories","row","f","colData","yAxisLabel","highcharts","$vnode","activeIdx","defaultPanel","id","activeConfig","clickBack","staticStyle","panel","addDynamicURLs","urls","from","attributes","getNamedItem","setProperty","href","onclick","find","elTop","getBoundingClientRect","top","scrollTo","pageYOffset","left","behavior","spinner","Circle2","panelTemplates","Text","Map","Image","Audio","Video","Slideshow","Chart","Dynamic","Loading","TextPanelV","registerHooks","path","loadStatus","activeChapterIndex","slides","introSlide","updateActiveIndex","contextLink","contextLabel","dateModified","isMenuOpen","hash","slide","idx","toLowerCase","replaceAll","stepEnter","scrollToChapter","getElementById","scrollIntoView","defaultRatio","panels","panelText1","panelText2","decodedHash","decodeURIComponent","element","parseInt","dataset","chapterIndex","ChapterMenuV","logo","scrollToStory","logoSrc","logoFile","uid","fetchConfig","location","documentElement","locale","to","next","catch","code","stack","StoryContentV","MobileMenuV","introduction","use","routes","scrollBehavior","selector","rows","fold","reduce","item","enValue","frValue","fallbackLocale","messages","productionTip","router"],"mappings":"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","file":"js/chunk-common.d855afa7.js","sourcesContent":["import JSZip from 'jszip';\n\nexport interface StoryRampConfig {\n    title: string;\n    lang: string;\n    introSlide: Intro;\n    slides: Slide[];\n    contextLink: string;\n    contextLabel: string;\n    dateModified: string;\n}\n\nexport interface ConfigFileStructure {\n    uuid: string;\n    zip: JSZip;\n    configs: { [key: string]: StoryRampConfig };\n    assets: {\n        [key: string]: JSZip;\n    };\n    charts: {\n        [key: string]: JSZip;\n    };\n    rampConfig: {\n        [key: string]: JSZip;\n    };\n}\n\nexport interface DQVOptions {\n    title: string;\n    subtitle: string;\n    xAxisLabel: string;\n    yAxisLabel: string;\n    width?: number;\n    height?: number;\n    export: boolean;\n    colours?: string[];\n    credits: boolean;\n    type: string;\n}\n\nexport interface SeriesData {\n    name: string;\n    y?: number;\n    data?: number[];\n    type?: string;\n}\n\nexport interface PieSeriesData {\n    name: string;\n    data: PieDataRow[];\n}\n\nexport interface PieDataRow {\n    name: string;\n    y?: number;\n}\n\nexport interface LineSeriesData {\n    name: string;\n    data: number[];\n}\n\nexport interface DQVChartConfig {\n    chart: {\n        type: string;\n    };\n    title: {\n        text: string;\n    };\n    credits?: {\n        enabled: boolean;\n    };\n    subtitle?: {\n        text: string;\n    };\n    yAxis?: {\n        title: {\n            text: string;\n        };\n    };\n    xAxis?: {\n        title: {\n            text: string;\n        };\n        categories: (number | string)[];\n    };\n    data?: {\n        csvURL: string;\n        enablePolling: boolean;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    plotOptions?: any;\n    exporting?: {\n        buttons: {\n            contextButton: {\n                menuItems: string[];\n            };\n        };\n        enabled?: boolean;\n    };\n    series?: SeriesData[] | { data: SeriesData[] };\n}\n\nexport interface Intro {\n    logo: {\n        src: string;\n        altText?: string;\n    };\n    title: string;\n    subtitle?: string;\n    blurb?: string;\n}\n\nexport interface Slide {\n    title: string;\n    // tuple definition to restrict array size\n    // panel: [BasePanel, BasePanel | undefined];\n    panel: BasePanel[];\n}\n\nexport enum PanelType {\n    Text = 'text',\n    Image = 'image',\n    Map = 'map',\n    Chart = 'chart',\n    Video = 'video',\n    Audio = 'audio',\n    Slideshow = 'slideshow',\n    Dynamic = 'dynamic',\n    Loading = 'loading'\n}\n\nexport interface BasePanel {\n    type: string;\n    width?: number;\n    customStyles?: string; // css string\n}\n\nexport interface TextPanel extends BasePanel {\n    type: PanelType.Text;\n    title: string;\n    titleTag: string;\n    content: string; // in md format\n}\n\nexport interface MapPanel extends BasePanel {\n    type: PanelType.Map;\n    config: string;\n    fullscreen?: boolean;\n    timeSlider?: TimeSliderConfig;\n    title: string;\n    scrollguard: boolean;\n}\nexport interface TimeSliderConfig {\n    range: number[];\n    start: number[];\n    attribute: string;\n    layers?: string[];\n}\n\nexport interface DynamicPanel extends BasePanel {\n    type: PanelType.Dynamic;\n    title: string;\n    titleTag: string;\n    content: string;\n    children: DynamicChildItem[];\n}\n\nexport interface DynamicChildItem {\n    id: string;\n    panel: BasePanel;\n}\n\nexport interface ImagePanel extends BasePanel {\n    type: PanelType.Image;\n    src: string;\n    width?: number;\n    height?: number;\n    class?: string;\n    fullscreen?: boolean;\n    altText?: string;\n    caption?: string;\n    tooltip?: string;\n}\n\nexport interface VideoPanel extends BasePanel {\n    type: PanelType.Video;\n    title: string;\n    src: string;\n    videoType: 'local' | 'external' | 'YouTube';\n    thumbnailUrl?: string;\n    transcript?: string;\n    width?: number;\n    height?: number;\n    caption?: string;\n}\n\nexport interface AudioPanel extends BasePanel {\n    type: PanelType.Audio;\n    src: string;\n    caption?: string;\n}\n\nexport interface SlideshowPanel extends BasePanel {\n    type: PanelType.Slideshow;\n    images: ImagePanel[];\n    fullscreen?: boolean;\n    loop?: boolean;\n    caption?: string;\n}\n\nexport interface ChartPanel extends BasePanel {\n    type: PanelType.Chart;\n    charts: ChartConfig[];\n    fullscreen?: boolean;\n    loop?: boolean;\n}\n\nexport interface ChartConfig {\n    src: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    config?: any;\n    name?: string;\n    options?: DQVOptions;\n}\n","var res = [{\"key\":\"chapters.title\",\"enValue\":\"Chapters\",\"enValid\":\"1\",\"frValue\":\"Chapitres\",\"frValid\":\"1\"},{\"key\":\"chapters.return\",\"enValue\":\"Return to top\",\"enValid\":\"1\",\"frValue\":\"Retournez en haut\",\"frValid\":\"1\"},{\"key\":\"chapters.menu\",\"enValue\":\"Toggle menu\",\"enValid\":\"1\",\"frValue\":\"Menu bascule\",\"frValid\":\"0\"},{\"key\":\"layer.loading\",\"enValue\":\"The layer is loading...\",\"enValid\":\"1\",\"frValue\":\"La couche est en cours de téléchargement...\",\"frValid\":\"1\"},{\"key\":\"scrollguard.desc\",\"enValue\":\"Use ctrl + scroll to zoom the map\",\"enValid\":\"1\",\"frValue\":\"Utilisez les touches Ctrl et + pour faire un zoom de la carte\",\"frValid\":\"1\"},{\"key\":\"story.date\",\"enValue\":\"Date modified:\",\"enValid\":\"1\",\"frValue\":\"Date de modification:\",\"frValid\":\"1\"},{\"key\":\"story.error\",\"enValue\":\"An error occurred while loading this Storylines product. See developer console for more information.\",\"enValid\":\"1\",\"frValue\":\"Une erreur est survenue pendant le chargement ce synopsis produit. Voir la console du promoteur pour obtenir de plus amples renseignements.\",\"frValid\":\"1\"},{\"key\":\"image.fullscreen\",\"enValue\":\"Full Screen\",\"enValid\":\"1\",\"frValue\":\"Plein Écran\",\"frValid\":\"1\"},{\"key\":\"timeslider.expand\",\"enValue\":\"Expand\",\"enValid\":\"1\",\"frValue\":\"Développer\",\"frValid\":\"1\"},{\"key\":\"timeslider.minimize\",\"enValue\":\"Minimize\",\"enValid\":\"1\",\"frValue\":\"Réduire\",\"frValid\":\"1\"},{\"key\":\"timeslider.play\",\"enValue\":\"Play\",\"enValid\":\"1\",\"frValue\":\"Lire\",\"frValid\":\"0\"},{\"key\":\"timeslider.pause\",\"enValue\":\"Pause\",\"enValid\":\"1\",\"frValue\":\"Pause\",\"frValid\":\"0\"},{\"key\":\"fullscreen.activate\",\"enValue\":\"Enter Fullscreen\",\"enValid\":\"1\",\"frValue\":\"Entrer en plein écran\",\"frValid\":\"0\"},{\"key\":\"fullscreen.deactivate\",\"enValue\":\"Exit Fullscreen\",\"enValid\":\"1\",\"frValue\":\"Sortie plein écran\",\"frValid\":\"0\"},{\"key\":\"dynamic.back\",\"enValue\":\"Back\",\"enValid\":\"1\",\"frValue\":\"Retour\",\"frValid\":\"0\"},{\"key\":\"video.transcript\",\"enValue\":\"Transcript\",\"enValid\":\"1\",\"frValue\":\"Transcription\",\"frValid\":\"0\"}];res.columns = [\"key\",\"enValue\",\"enValid\",\"frValue\",\"frValid\"];module.exports = res;","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile-menu.vue?vue&type=style&index=0&id=1c86e27a&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-panel.vue?vue&type=style&index=0&id=2e19ccfb&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slideshow-panel.vue?vue&type=style&index=0&id=574e04e7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex-col relative\",class:_vm.config.type !== 'text'\n            ? (\"sticky \" + (_vm.config.type === 'map' ? 'top-16 overflow-x-auto overflow-y-hidden' : 'top-8') + \" sm:self-start flex-2 order-1 sm:order-2 z-40\")\n            : 'flex flex-1 order-2 sm:order-1'},[_vm._t(\"default\"),_c(_vm.getTemplate(),{tag:\"component\",style:(_vm.config.customStyles),attrs:{\"config\":_vm.config,\"configFileStructure\":_vm.configFileStructure,\"slideIdx\":_vm.slideIdx,\"lang\":_vm.lang}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Scrollama',{staticClass:\"prose max-w-none my-5\"},[_c(_vm.config.titleTag || 'h2',{tag:\"component\",staticClass:\"px-10 mb-0 chapter-title top-20\"},[_vm._v(\" \"+_vm._s(_vm.config.title)+\" \")]),_c('div',{staticClass:\"px-10 md-content object-contain\",domProps:{\"innerHTML\":_vm._s(_vm.mdContent)}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Scrollama from 'vue-scrollama';\nimport MarkdownIt from 'markdown-it';\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { TextPanel } from '@storylines/definitions';\n\n@Component({\n    components: {\n        Scrollama\n    }\n})\nexport default class TextPanelV extends Vue {\n    @Prop() config!: TextPanel;\n\n    md = new MarkdownIt({ html: true });\n    mdContent = '';\n\n    mounted(): void {\n        this.mdContent = this.md\n            .render(this.config.content)\n            .replace(/<table/g, '<div class=\"table-container\"><table')\n            .replace(/<\\/table>/g, '</table></div>');\n\n        document\n            .querySelectorAll('.storyramp-app a:not([target])')\n            .forEach((el: Element) => ((el as HTMLAnchorElement).target = '_blank'));\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./text-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./text-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./text-panel.vue?vue&type=template&id=1e510200&scoped=true&\"\nimport script from \"./text-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./text-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./text-panel.vue?vue&type=style&index=0&id=1e510200&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e510200\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex flex-col h-full align-middle w-full\"},[(_vm.config.title)?_c('div',{staticClass:\"px-10 mb-0 chapter-title top-20 map-title text-center\"},[_vm._v(\" \"+_vm._s(_vm.config.title)+\" \")]):_vm._e(),_c('div',{staticClass:\"w-full bg-gray-200 h-story rv-map\",attrs:{\"id\":(\"ramp-map-\" + _vm.slideIdx)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"time-slider absolute w-full h-full left-0 flex flex-col items-center bg-white\"},[_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'top', hideOnClick: false }),expression:\"{ placement: 'top', hideOnClick: false }\"}],staticClass:\"absolute top-1 left-4 play-button\",attrs:{\"content\":_vm.$t(_vm.intervalID >= 0 ? 'timeslider.pause' : 'timeslider.play')},on:{\"click\":function($event){_vm.intervalID >= 0 ? _vm.endLoop() : _vm.startLoop()}}},[(_vm.intervalID === -1)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24px\",\"viewBox\":\"0 0 24 24\",\"width\":\"24px\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}}),_c('path',{attrs:{\"d\":\"M8 5v14l11-7z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24px\",\"viewBox\":\"0 0 24 24\",\"width\":\"24px\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"M0 0h24v24H0z\",\"fill\":\"none\"}}),_c('path',{attrs:{\"d\":\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"}})])]),_c('span',{staticClass:\"my-2.5 text-base range-display\"},[_c('span',{},[_vm._v(_vm._s(_vm.range[0]))]),(_vm.range[1])?_c('span',{},[_vm._v(\" - \"+_vm._s(_vm.range[1]))]):_vm._e()]),_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'top', hideOnClick: false }),expression:\"{ placement: 'top', hideOnClick: false }\"}],staticClass:\"absolute top-1 right-4 minimize-button\",attrs:{\"content\":_vm.$t(_vm.minimized ? 'timeslider.expand' : 'timeslider.minimize')},on:{\"click\":function($event){return _vm.minimizeToggle()}}},[(!_vm.minimized)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"6 6 36 36\",\"height\":\"24\",\"width\":\"24\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"m24 30.75-12-12 2.15-2.15L24 26.5l9.85-9.85L36 18.8Z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24\",\"width\":\"24\",\"viewBox\":\"6 6 36 36\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"M14.15 30.75 12 28.6l12-12 12 11.95-2.15 2.15L24 20.85Z\"}})])]),_c('div',{staticClass:\"time-slider-backdrop\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.minimized),expression:\"!minimized\"}],ref:\"sliderTarget\",staticClass:\"noUi-target noUiSlider\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport noUiSlider, { API, PipsMode } from 'nouislider';\nimport { TimeSliderConfig } from '@storylines/definitions';\n\n@Component\nexport default class TimeSlider extends Vue {\n    @Prop() config!: TimeSliderConfig;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    @Prop() rInstance!: any;\n\n    minimized = false;\n    loaded = false;\n\n    sliderElement!: HTMLElement;\n    slider!: API;\n    range: string[] = ['', ''];\n    intervalID = -1;\n    /*\n    mounted(): void {\n        const layerWatcher = setInterval(() => {\n            const layer = this.rInstance.geo.layer.allLayers()[0];\n            if (layer?.layerState === 'loaded' && !layer?.isCosmetic) {\n                clearInterval(layerWatcher);\n                this.initSlider();\n                this.loaded = true;\n            }\n        }, 250);\n    } */\n\n    /**\n     * Initiates the time slider when the layer has finished loading\n     */\n    mounted(): void {\n        this.sliderElement = this.$refs.sliderTarget as HTMLElement;\n        this.slider = noUiSlider.create(this.sliderElement, {\n            start: this.config.start,\n            range: {\n                min: this.config.range[0],\n                max: this.config.range[1]\n            },\n            connect: true,\n            step: 1,\n            pips: {\n                mode: PipsMode.Steps,\n                density: 1,\n                filter: (val: number) => {\n                    if (val % 1 === 0) {\n                        return 1;\n                    }\n                    return -1;\n                }\n            }\n        });\n\n        this.slider.on('update', () => {\n            const sliderValues = this.slider.get() as string | string[];\n            if (Array.isArray(sliderValues)) {\n                this.range = sliderValues.map((n: string) => {\n                    return n.split('.')[0];\n                });\n            } else {\n                this.range = [sliderValues.split('.')[0]];\n            }\n\n            let sqlString: string;\n\n            switch (this.range.length) {\n                case 1:\n                    sqlString = `${this.config.attribute} = ${this.range[0]}`;\n                    break;\n\n                default:\n                    sqlString = `${this.config.attribute} >= ${this.range[0]} AND ${this.config.attribute} <= ${this.range[1]}`;\n                    break;\n            }\n\n            if (!this.config.layers || this.config.layers.length === 0) {\n                this.rInstance.geo.layer\n                    .allLayers()\n                    .filter((l: any) => l.supportsFeatures)\n                    .forEach((l: any) => {\n                        l.setSqlFilter('time_slider', sqlString);\n                    });\n            } else {\n                this.config.layers.forEach((layerId) => {\n                    const l = this.rInstance.geo.layer.getLayer(layerId);\n                    l?.setSqlFilter('time_slider', sqlString);\n                });\n            }\n        });\n\n        // to have an element focusable inside the RAMP container, its tabindex must not be 0;\n        // tabindex 0 is controlled by the browser; RAMP focus manager will ignore such elements and not set focus to them;\n        const sliderHandles = this.sliderElement.querySelectorAll('.noUi-handle');\n        sliderHandles.forEach((handle: Element) => {\n            handle.setAttribute('tabindex', '-2');\n        });\n    }\n\n    /**\n     * Begins looping through the values on the time slider\n     */\n    startLoop(): void {\n        const sliderValues = this.slider.get() as string | string[];\n        if (Array.isArray(sliderValues)) {\n            this.slider.set(sliderValues.map(() => sliderValues[0]));\n        }\n        // delay happens before first call\n        this.intervalID = window.setInterval(this.moveHandleRight, 1400);\n    }\n\n    /**\n     * Moves handle(s) one to the right of the first (leftmost) handle. Loops if the handles are at the end.\n     */\n    moveHandleRight(): void {\n        const sliderValues = this.slider.get(true) as number | number[];\n        let newValues;\n        if (Array.isArray(sliderValues)) {\n            newValues = sliderValues.map(() => {\n                return sliderValues[0] === this.config.range[1] ? this.config.range[0] : sliderValues[0] + 1;\n            });\n        } else {\n            newValues = [sliderValues === this.config.range[1] ? this.config.range[0] : sliderValues + 1];\n        }\n        this.slider.set(newValues);\n    }\n\n    /**\n     * Cancels looping through the values on the time slider\n     */\n    endLoop(): void {\n        clearInterval(this.intervalID);\n        // reset so template knows we aren't looping\n        this.intervalID = -1;\n    }\n\n    minimizeToggle(): void {\n        this.minimized = !this.minimized;\n        if (this.minimized) {\n            (this.$el.parentElement as HTMLElement).classList.add('minimized');\n        } else {\n            (this.$el.parentElement as HTMLElement).classList.remove('minimized');\n        }\n    }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./time-slider.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./time-slider.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./time-slider.vue?vue&type=template&id=4bc3840f&\"\nimport script from \"./time-slider.vue?vue&type=script&lang=ts&\"\nexport * from \"./time-slider.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./time-slider.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TimeSliderConfig } from '@storylines/definitions';\nimport { Vue } from 'vue-property-decorator';\nimport TimeSlider from './time-slider.vue';\n\nexport class TimeSliderFixture {\n    timeSliderPanel: HTMLElement | undefined;\n\n    removed() {\n        (this as any).$vApp.$el.querySelector('.inner-shell')?.removeChild(this.timeSliderPanel);\n    }\n\n    initTimeSlider(config: TimeSliderConfig, i18n: any) {\n        this.timeSliderPanel = document.createElement('div');\n        const timeSliderComponent = new Vue({\n            render: (h) =>\n                h('time-slider', {\n                    props: {\n                        config: config,\n                        rInstance: (this as any).$iApi\n                    }\n                }),\n            components: {\n                // eslint-disable-next-line vue/no-unused-components\n                'time-slider': TimeSlider\n            },\n            i18n: i18n\n        }).$mount();\n        this.timeSliderPanel.classList.add('time-slider-container');\n        this.timeSliderPanel.appendChild(timeSliderComponent.$el);\n        (this as any).$vApp.$el.querySelector('.inner-shell')?.appendChild(this.timeSliderPanel);\n    }\n}\n","\n\n\n\n\n\n\n\n\n\nimport { ConfigFileStructure, MapPanel } from '@storylines/definitions';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\nimport TimeSlider from '@storylines/components/panels/helpers/time-slider.vue';\nimport Scrollguard from '@storylines/components/panels/helpers/scrollguard.vue';\nimport { TimeSliderFixture } from '@storylines/components/panels/helpers/time-slider/index';\n\n@Component({\n    components: {}\n})\nexport default class MapPanelV extends Vue {\n    @Prop() config!: MapPanel;\n    @Prop() slideIdx!: number;\n    @Prop() lang!: string;\n    @Prop() configFileStructure!: ConfigFileStructure;\n\n    intersectTimeoutHandle = -1;\n    scrollguardOpen = false;\n    mapComponent: Element | undefined = undefined;\n\n    mounted(): void {\n        // Check if the config file exists in the ZIP folder first\n        const assetSrc = `${this.config.config.substring(this.config.config.indexOf('/') + 1)}`;\n        if (this.configFileStructure) {\n            const mapFile = this.configFileStructure.zip.file(assetSrc);\n            if (mapFile) {\n                mapFile.async('string').then((res: string) => {\n                    this.config.config = res;\n                });\n            }\n        }\n\n        const observer = new IntersectionObserver(\n            ([e]) => {\n                if (e.isIntersecting) {\n                    this.intersectTimeoutHandle = window.setTimeout(() => {\n                        this.init();\n                        observer.disconnect();\n                    }, 350);\n                } else {\n                    clearTimeout(this.intersectTimeoutHandle);\n                }\n            },\n            { threshold: [0] }\n        );\n\n        observer.observe(this.$el);\n    }\n\n    init(): void {\n        // Find the correct map component based on whether there's a title component.\n        this.mapComponent = this.config.title ? this.$el.children[1] : this.$el.children[0];\n        // reduce build size by being as specific as possible with path\n        /* const src = require('./../../../public/samples/' + this.config.config + '.js');\n        const rInstance = src.initialize(this.mapComponent); */\n        fetch(this.config.config).then((data) => {\n            // parse JSON data\n            data.json().then(\n                (rampConfig: any) => {\n                    const rInstance = (window as any).RAMP.createInstance(this.mapComponent, rampConfig);\n                    // Add the scrollguard fixture and enable it if desired.\n                    // If the scrollguard was already added previously, add does nothing, so no harm done!\n                    if (this.config.scrollguard) {\n                        rInstance.fixture.add('scrollguard').then((scrollguardFixture: any) => {\n                            scrollguardFixture.setEnabled(true);\n                        });\n                    }\n                    if (this.config.timeSlider) {\n                        rInstance.fixture.add('time-slider', TimeSliderFixture).then((ts: TimeSliderFixture) => {\n                            ts.initTimeSlider(this.config.timeSlider!, this.$i18n);\n                        });\n                    }\n                },\n                (err) => {\n                    console.error(`Error fetching map config JSON file: ${err}`);\n                }\n            );\n        });\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./map-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./map-panel.vue?vue&type=template&id=2e19ccfb&scoped=true&\"\nimport script from \"./map-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./map-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./map-panel.vue?vue&type=style&index=0&id=2e19ccfb&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e19ccfb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"graphic self-start justify-center flex flex-col h-full align-middle py-5 w-full\"},[_c('full-screen',{attrs:{\"expandable\":_vm.config.fullscreen,\"type\":_vm.config.type}},[_c('img',{ref:\"img\",staticClass:\"graphic-image px-10 mx-auto my-6 flex object-contain sm:max-w-screen sm:max-h-screen\",class:_vm.config.class,style:({ width: ((_vm.config.width) + \"px\"), height: ((_vm.config.height) + \"px\") }),attrs:{\"src\":_vm.slideIdx > 2 ? '' : _vm.config.src,\"alt\":_vm.config.altText || ''}})]),(_vm.config.caption)?_c('div',{staticClass:\"text-center text-sm max-w-full graphic-caption\",domProps:{\"innerHTML\":_vm._s(_vm.md.render(_vm.config.caption))}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fullscreen',{attrs:{\"pageOnly\":true,\"teleport\":true,\"fullscreenClass\":\"fullscreenElement\"},model:{value:(_vm.fullscreen),callback:function ($$v) {_vm.fullscreen=$$v},expression:\"fullscreen\"}},[_c('div',{staticClass:\"relative bg-white\"},[(_vm.expandable !== undefined ? _vm.expandable : true)?_c('button',{directives:[{name:\"tippy\",rawName:\"v-tippy\",value:({ placement: 'top', hideOnClick: false }),expression:\"{ placement: 'top', hideOnClick: false }\"}],staticClass:\"fullscreenButton expand-button absolute items-center justify-center p-3 z-10\",class:[_vm.fullscreen ? \"top-0\" : \"bottom-0\", _vm.type === 'image' ? \"right-10\" : \"right-2\"],attrs:{\"aria-label\":_vm.$t('image.fullscreen'),\"content\":_vm.$t(_vm.fullscreen ? 'fullscreen.deactivate' : 'fullscreen.activate')},on:{\"click\":_vm.toggleFullscreen}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fullscreen),expression:\"fullscreen\"}],attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24px\",\"viewBox\":\"0 0 24 24\",\"width\":\"24px\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z\",\"fill\":\"#666666\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.fullscreen),expression:\"!fullscreen\"}],attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"height\":\"24px\",\"viewBox\":\"0 0 24 24\",\"width\":\"24px\",\"fill\":\"#595959\"}},[_c('path',{attrs:{\"d\":\"M10,21V19H6.41L10.91,14.5L9.5,13.09L5,17.59V14H3V21H10M14.5,10.91L19,6.41V10H21V3H14V5H17.59L13.09,9.5L14.5,10.91Z\"}})])]):_vm._e(),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component\nexport default class FullscreenV extends Vue {\n    @Prop() expandable!: boolean;\n    @Prop() type!: string;\n\n    fullscreen = false;\n\n    toggleFullscreen(): void {\n        this.fullscreen = !this.fullscreen;\n    }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fullscreen.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fullscreen.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./fullscreen.vue?vue&type=template&id=35ba0ff6&\"\nimport script from \"./fullscreen.vue?vue&type=script&lang=ts&\"\nexport * from \"./fullscreen.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./fullscreen.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { ImagePanel } from '@storylines/definitions';\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\n\r\nimport MarkdownIt from 'markdown-it';\r\nimport FullscreenV from '@storylines/components/panels/helpers/fullscreen.vue';\r\n\r\n@Component({\r\n    components: {\r\n        'full-screen': FullscreenV\r\n    }\r\n})\r\nexport default class ImagePanelV extends Vue {\r\n    @Prop() config!: ImagePanel;\r\n    @Prop() slideIdx!: number;\r\n\r\n    md = new MarkdownIt({ html: true });\r\n\r\n    observer =\r\n        this.slideIdx > 2\r\n            ? new IntersectionObserver(([image]) => {\r\n                  // lazy load images\r\n                  if (image.isIntersecting) {\r\n                      (this.$refs.img as Element).setAttribute('src', this.config.src);\r\n                      this.$forceUpdate();\r\n                      (this.observer as IntersectionObserver).disconnect();\r\n                  }\r\n              })\r\n            : undefined;\r\n\r\n    mounted(): void {\r\n        this.observer?.observe(this.$refs.img as Element);\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./image-panel.vue?vue&type=template&id=7ddc83c4&\"\nimport script from \"./image-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./image-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./image-panel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg-gray-100 text-center inline-block h-full align-middle\"},[_c('h1',{staticClass:\"align-middle\"},[_vm._v(\"Temporary Audio Panel\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { AudioPanel } from '@storylines/definitions';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class AudioPanelV extends Vue {\n    @Prop() config!: AudioPanel;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audio-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./audio-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./audio-panel.vue?vue&type=template&id=05ae996c&\"\nimport script from \"./audio-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./audio-panel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video-container self-start justify-center flex flex-col h-full align-middle py-5 w-full\"},[(_vm.config.videoType === 'YouTube')?[_c('iframe',{staticClass:\"media-player\",attrs:{\"src\":_vm.config.src,\"width\":_vm.config.width ? _vm.config.width : '100%',\"height\":_vm.config.height ? _vm.config.height : '500px',\"allowfullscreen\":\"\"}})]:_vm._e(),(_vm.config.videoType === 'local' || _vm.config.videoType === 'external')?[_c('video',{staticClass:\"media-player\",attrs:{\"title\":_vm.config.title,\"poster\":_vm.config.thumbnailUrl,\"width\":_vm.config.width ? _vm.config.width : '100%',\"height\":_vm.config.height ? _vm.config.height : '500px',\"controls\":\"\"}},[_c('source',{attrs:{\"type\":_vm.fileType,\"src\":_vm.config.src}}),(_vm.config.caption)?_c('track',{attrs:{\"kind\":\"captions\",\"src\":_vm.config.caption,\"srclang\":_vm.lang,\"label\":_vm.langs[_vm.lang]}}):_vm._e()])]:_vm._e(),_c('figcaption',{staticClass:\"bg-gray-200 rounded\"},[_c('button',{staticClass:\"flex w-full items-center justify-between p-4\",class:{\n                'hover:bg-gray-300': _vm.config.transcript,\n                'cursor-pointer': _vm.config.transcript,\n                'pointer-events-none': !_vm.transcriptContent\n            },on:{\"click\":function($event){return _vm.toggleTranscript()}}},[_c('span',{staticClass:\"font-semibold\"},[_vm._v(_vm._s(_vm.config.title)+\" \"),(_vm.config.transcript)?_c('span',[_vm._v(\"(\"+_vm._s(_vm.$t('video.transcript'))+\")\")]):_vm._e()]),(_vm.config.transcript)?_c('div',{staticClass:\"float-right\"},[(_vm.expandTranscript)?_c('svg',{staticClass:\"h-6 w-6\"},[_c('g',{attrs:{\"id\":\"chevron-down\"}},[_c('path',{attrs:{\"d\":\"M 7.41348,8.58407L 11.9995,13.1701L 16.5855,8.58407L 17.9995,9.99807L 11.9995,15.9981L 5.99948,9.99807L 7.41348,8.58407 Z \"}})])]):_c('svg',{staticClass:\"h-6 w-6\"},[_c('g',{attrs:{\"id\":\"chevron-up\"}},[_c('path',{attrs:{\"d\":\"M 7.41351,15.4121L 11.9995,10.8261L 16.5855,15.4121L 17.9995,13.9981L 11.9995,7.99807L 5.99951,13.9981L 7.41351,15.4121 Z \"}})])])]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.expandTranscript),expression:\"expandTranscript\"}],staticClass:\"content border border-gray-300 p-4\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.transcriptContent)}})])])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport MarkdownIt from 'markdown-it';\n\nimport { VideoPanel } from '@storylines/definitions';\nimport { Component, Vue, Prop } from 'vue-property-decorator';\n\n@Component({})\nexport default class VideoPanelV extends Vue {\n    @Prop() config!: VideoPanel;\n\n    lang = 'en';\n    langs: Record<string, string> = {\n        en: 'English',\n        fr: 'French'\n    };\n    fileType = '';\n    expandTranscript = false;\n\n    md = new MarkdownIt({ html: true });\n    rawTranscript = '';\n    transcriptContent = '';\n\n    created(): void {\n        this.lang = this.$route.params.lang ? this.$route.params.lang : 'en';\n\n        // find file type extension for non-YT videos\n        if (this.config.videoType === 'external' || this.config.videoType === 'local') {\n            const ext = this.extensionType(this.config.src);\n            this.fileType = `video/${ext}`;\n        }\n    }\n\n    mounted(): void {\n        // fetch and config transcript content and render with md\n        if (this.config.transcript) {\n            const ext = this.extensionType(this.config.transcript);\n\n            fetch(this.config.transcript).then((res: any) => {\n                res.text().then((content: string) => {\n                    this.rawTranscript = content;\n                    // can be HTML or MD format\n                    this.transcriptContent = ext === 'md' ? this.md.render(this.rawTranscript) : this.rawTranscript;\n                });\n            });\n        }\n    }\n\n    toggleTranscript(): void {\n        this.expandTranscript = !this.expandTranscript;\n    }\n\n    extensionType(file: string): string | undefined {\n        const fileName = file.substring(file.lastIndexOf('/') + 1);\n        return fileName.split('.').pop();\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./video-panel.vue?vue&type=template&id=6e3cd54d&\"\nimport script from \"./video-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./video-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./video-panel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.config.images.length === 1)?_c('div',[_c('image-panel',{key:_vm.config.images[0].src,attrs:{\"config\":_vm.config.images[0],\"configFileStructure\":_vm.configFileStructure}})],1):_c('div',{staticClass:\"flex\"},[_c('div',{ref:\"images\",staticClass:\"carousel self-center px-10 my-8 mx-auto bg-gray-200_ h-28_\",style:({ width: (_vm.width + \"px\") })},[_c('full-screen',{attrs:{\"expandable\":_vm.config.fullscreen,\"type\":_vm.config.type}},[(_vm.width !== -1)?_c('hooper',{ref:\"carousel\",staticClass:\"h-full bg-white\",attrs:{\"infiniteScroll\":_vm.config.loop}},[_vm._l((_vm.config.images),function(image,index){return _c('slide',{key:index,staticClass:\"self-center\",attrs:{\"index\":index}},[_c('img',{staticClass:\"m-auto story-graphic carousel-image\",style:({ width: ((image.width) + \"px\"), height: ((image.height) + \"px\") }),attrs:{\"data-src\":image.src,\"src\":_vm.slideIdx > 2 ? '' : image.src,\"alt\":image.altText || ''}}),(image.caption)?_c('div',{staticClass:\"text-center my-8 text-sm\",domProps:{\"innerHTML\":_vm._s(_vm.md.render(image.caption))}}):_vm._e()])}),_c('hooper-navigation',{attrs:{\"slot\":\"hooper-addons\"},slot:\"hooper-addons\"}),_c('hooper-pagination',{attrs:{\"slot\":\"hooper-addons\"},slot:\"hooper-addons\"})],2):_vm._e()],1),(_vm.config.caption)?_c('div',{staticClass:\"text-center mt-5 text-sm\",domProps:{\"innerHTML\":_vm._s(_vm.md.render(_vm.config.caption))}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ConfigFileStructure, SlideshowPanel } from '@storylines/definitions';\nimport { Hooper, Navigation as HooperNavigation, Pagination as HooperPagination, Slide } from 'hooper';\nimport 'hooper/dist/hooper.css';\n\nimport MarkdownIt from 'markdown-it';\nimport FullscreenV from '@storylines/components/panels/helpers/fullscreen.vue';\nimport ImagePanelV from '@storylines/components/panels/image-panel.vue';\n\n@Component({\n    components: {\n        Hooper,\n        Slide,\n        'full-screen': FullscreenV,\n        HooperNavigation,\n        HooperPagination,\n        'image-panel': ImagePanelV\n    }\n})\nexport default class SlideshowPanelV extends Vue {\n    @Prop() config!: SlideshowPanel;\n    @Prop() configFileStructure!: ConfigFileStructure;\n    @Prop() slideIdx!: number;\n\n    width = -1;\n\n    md = new MarkdownIt({ html: true });\n\n    observer =\n        this.slideIdx > 2\n            ? new IntersectionObserver(([image]) => {\n                  // lazy load images\n                  if (image.isIntersecting) {\n                      (this.$refs.images as Element).querySelectorAll('.carousel-image').forEach((img) => {\n                          img.setAttribute('src', img.getAttribute('data-src') as string);\n                      });\n                      this.$forceUpdate();\n                      (this.observer as IntersectionObserver).disconnect();\n                  }\n              })\n            : undefined;\n\n    mounted(): void {\n        setTimeout(() => {\n            this.width = this.$el.clientWidth;\n        }, 100);\n\n        // obtain image files from ZIP folder in editor preview mode\n        if (this.configFileStructure) {\n            this.config.images.forEach((image) => {\n                const assetSrc = `${image.src.substring(image.src.indexOf('/') + 1)}`;\n                const imageFile = this.configFileStructure.zip.file(assetSrc);\n                if (imageFile) {\n                    imageFile.async('blob').then((res: Blob) => {\n                        image.src = URL.createObjectURL(res);\n                        this.$forceUpdate();\n                    });\n                }\n            });\n        }\n\n        if (this.config.images.length > 1) {\n            this.observer?.observe(this.$refs.images as Element);\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slideshow-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slideshow-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./slideshow-panel.vue?vue&type=template&id=574e04e7&scoped=true&\"\nimport script from \"./slideshow-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./slideshow-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./slideshow-panel.vue?vue&type=style&index=0&id=574e04e7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"574e04e7\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex\"},[_c('div',{staticClass:\"carousel self-center px-10 my-8 mx-auto bg-gray-200_\",style:({ width: (_vm.width + \"px\") })},[(_vm.width !== -1 && _vm.config.charts.length > 1)?_c('hooper',{ref:\"carousel\",staticClass:\"h-full\",attrs:{\"infiniteScroll\":_vm.config.loop}},[_vm._l((_vm.config.charts),function(chartConfig,index){return _c('slide',{key:(\"chart-\" + index),staticClass:\"self-center\",attrs:{\"index\":index}},[_c('dqv-chart',{attrs:{\"config\":chartConfig,\"configFileStructure\":_vm.configFileStructure}})],1)}),_c('hooper-navigation',{attrs:{\"slot\":\"hooper-addons\"},slot:\"hooper-addons\"}),_c('hooper-pagination',{attrs:{\"slot\":\"hooper-addons\"},slot:\"hooper-addons\"})],2):(_vm.width !== -1)?_c('div',[_c('dqv-chart',{attrs:{\"config\":_vm.config.charts[0],\"configFileStructure\":_vm.configFileStructure}})],1):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dv-chart justify-center flex align-middle\",attrs:{\"dv-config\":\"config\"}},[(!_vm.loading)?_c('div',{staticClass:\"dv-chart-container items-stretch h-full w-full\",attrs:{\"role\":\"region\",\"aria-hidden\":\"false\",\"aria-label\":_vm.title}},[_c('highcharts',{ref:\"chart\",attrs:{\"options\":_vm.chartOptions}})],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { Component, Prop, Vue } from 'vue-property-decorator';\r\nimport {\r\n    ChartConfig,\r\n    ConfigFileStructure,\r\n    DQVChartConfig,\r\n    LineSeriesData,\r\n    PieSeriesData\r\n} from '@storylines/definitions';\r\nimport { Chart } from 'highcharts-vue';\r\n\r\nimport Highcharts from 'highcharts';\r\nimport dataModule from 'highcharts/modules/data';\r\nimport exporting from 'highcharts/modules/exporting';\r\nimport exportData from 'highcharts/modules/export-data';\r\n\r\ndataModule(Highcharts);\r\nexporting(Highcharts);\r\nexportData(Highcharts);\r\n\r\ninterface CSVFile {\r\n    url: string;\r\n}\r\n\r\ninterface CSVDataRow {\r\n    [column: string]: string | number;\r\n}\r\n\r\n@Component({\r\n    components: {\r\n        highcharts: Chart\r\n    }\r\n})\r\nexport default class ChartV extends Vue {\r\n    @Prop() config!: ChartConfig;\r\n    @Prop() configFileStructure!: ConfigFileStructure;\r\n\r\n    chartOptions: DQVChartConfig = {} as DQVChartConfig;\r\n    title = '';\r\n    loading = true;\r\n\r\n    menuOptions = [\r\n        'viewFullscreen',\r\n        'printChart',\r\n        'separator',\r\n        'downloadPNG',\r\n        'downloadJPEG',\r\n        'downloadPDF',\r\n        'downloadSVG',\r\n        'separator',\r\n        'downloadCSV',\r\n        'downloadXLS'\r\n    ];\r\n\r\n    mounted(): void {\r\n        const isMobile = this.$el.clientWidth <= 640;\r\n\r\n        // If the client width is over 640 (not on mobile), add the `View Data Table` option to charts.\r\n        if (!isMobile) {\r\n            this.menuOptions.push('viewData');\r\n        }\r\n\r\n        if (this.config.config) {\r\n            // configured JSON structure if exists - for highcharts demo purposes\r\n            this.chartOptions = this.config.config;\r\n            this.title = this.chartOptions.title.text;\r\n            this.loading = false;\r\n\r\n            // Set up hamburger menu options.\r\n            if (this.chartOptions.exporting) {\r\n                this.chartOptions.exporting.buttons.contextButton = {\r\n                    menuItems: this.menuOptions\r\n                };\r\n            } else {\r\n                this.chartOptions.exporting = {\r\n                    buttons: {\r\n                        contextButton: {\r\n                            menuItems: this.menuOptions\r\n                        }\r\n                    }\r\n                };\r\n            }\r\n        } else if (this.config.src) {\r\n            // get input given by src path\r\n            const extension = this.config.src.split('.').pop();\r\n            const assetSrc = `${this.config.src.substring(this.config.src.indexOf('/') + 1)}`;\r\n\r\n            if (extension === 'json') {\r\n                fetch(this.config.src).then((data) => {\r\n                    // parse JSON data\r\n                    data.json().then(\r\n                        (res: DQVChartConfig) => {\r\n                            this.chartOptions = res;\r\n                            this.title = this.chartOptions.title.text;\r\n                            this.loading = false;\r\n\r\n                            // Set up hamburger menu options.\r\n                            if (this.chartOptions.exporting) {\r\n                                this.chartOptions.exporting.buttons.contextButton = {\r\n                                    menuItems: this.menuOptions\r\n                                };\r\n                            } else {\r\n                                this.chartOptions.exporting = {\r\n                                    buttons: {\r\n                                        contextButton: {\r\n                                            menuItems: this.menuOptions\r\n                                        }\r\n                                    }\r\n                                };\r\n                            }\r\n                        },\r\n                        (err) => {\r\n                            console.error(`Error fetching chart JSON file: ${err}`);\r\n                        }\r\n                    );\r\n                });\r\n            } else if (extension === 'csv') {\r\n                if (this.configFileStructure) {\r\n                    // First attempt to fetch the configuration file from the ZIP folder.\r\n                    const chartCsvFile = this.configFileStructure.zip.file(assetSrc);\r\n                    if (chartCsvFile) {\r\n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                        chartCsvFile.async('blob').then((res: any) => {\r\n                            this.parseCSVFile(res);\r\n                        });\r\n                    }\r\n                } else {\r\n                    // if data is hosted on server can simply be passed into chartOptions under csvUrl (local file needs to be parsed)\r\n                    fetch(this.config.src).then((data) => {\r\n                        this.parseCSVFile(data);\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parse and process CSV file contents and return a properly configured highcharts options object.\r\n     */\r\n    parseCSVFile(data: CSVFile): void {\r\n        const dqvOptions = this.config.options;\r\n\r\n        // export options displayed on hamburger menu\r\n        const exportOptions = {\r\n            buttons: {\r\n                contextButton: {\r\n                    menuItems: this.menuOptions\r\n                }\r\n            },\r\n            enabled: dqvOptions?.export !== undefined ? dqvOptions?.export : true\r\n        };\r\n\r\n        // extract general chart options that applies to all chart types\r\n        const defaultOptions = {\r\n            chart: {\r\n                renderTo: 'dv-chart-container',\r\n                type: dqvOptions?.type,\r\n                ...(dqvOptions?.height &&\r\n                    this.$el.clientHeight >= dqvOptions.height && {\r\n                        height: dqvOptions.height\r\n                    }),\r\n                ...(dqvOptions?.width && this.$el.clientWidth >= dqvOptions.width && { width: dqvOptions.width })\r\n            },\r\n            ...(dqvOptions?.title && { title: { text: dqvOptions?.title } }),\r\n            ...(dqvOptions?.subtitle && { subtitle: { text: dqvOptions?.subtitle } }),\r\n            ...(dqvOptions?.colours && { colors: dqvOptions?.colours }),\r\n            exporting: exportOptions,\r\n            credits: {\r\n                enabled: dqvOptions?.credits !== undefined ? dqvOptions?.credits : false\r\n            }\r\n        };\r\n\r\n        // download: true needed for local files which is treated as an URL\r\n        this.$papa.parse(data.url ? data.url : data, {\r\n            header: dqvOptions?.type === 'pie' ? false : true,\r\n            dynamicTyping: true,\r\n            download: !!data.url,\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            complete: (res: any) => {\r\n                // construct highcharts objects based on chart type\r\n                if (dqvOptions?.type === 'pie') {\r\n                    this.makePieChart(res.data, (defaultOptions as unknown) as DQVChartConfig);\r\n                } else {\r\n                    this.makeLineChart(res.meta.fields, res.data, (defaultOptions as unknown) as DQVChartConfig);\r\n                }\r\n            }\r\n        });\r\n\r\n        this.loading = false;\r\n    }\r\n\r\n    /**\r\n     * Parse chart data content and return a highcharts formatted series object for a pie chart.\r\n     */\r\n    makePieChart(csvData: CSVDataRow[], defaultOptions: DQVChartConfig): void {\r\n        let series: PieSeriesData = { name: '', data: [] };\r\n\r\n        // construct series data\r\n        series.name = csvData[0][0] as string;\r\n        const ylabel = csvData[0][1];\r\n        csvData.slice(1).forEach((slice: CSVDataRow) => {\r\n            series.data.push({\r\n                name: slice[0] as string,\r\n                // in case of strings being passed in such as '10%'\r\n                y: parseFloat(slice[1] as string)\r\n            });\r\n        });\r\n\r\n        // plot options for pie charts\r\n        const plotOptions = {\r\n            pie: {\r\n                name: '',\r\n                allowPointSelect: true,\r\n                cursor: 'pointer',\r\n                dataLabels: {\r\n                    enabled: true,\r\n                    format: '<b>{point.name}</b>: {point.percentage:.1f} %'\r\n                }\r\n            }\r\n        };\r\n\r\n        // initializing chartOptions for line/bar charts\r\n        this.chartOptions = {\r\n            ...defaultOptions,\r\n            plotOptions: plotOptions,\r\n            series: series,\r\n            yAxis: {\r\n                title: {\r\n                    text: ylabel as string\r\n                }\r\n            }\r\n        };\r\n        this.$emit('loaded', this.chartOptions);\r\n    }\r\n\r\n    /**\r\n     * Parse chart data content and return a highcharts formatted series object for a line/bar chart.\r\n     */\r\n    makeLineChart(fields: string[], csvData: CSVDataRow[], defaultOptions: DQVChartConfig): void {\r\n        const dqvOptions = this.config.options;\r\n        // find xAxis categories for line/bar charts\r\n        const cato = fields.shift() as string;\r\n        const xAxis = {\r\n            title: {\r\n                text: dqvOptions?.xAxisLabel ? dqvOptions?.xAxisLabel : ''\r\n            },\r\n            categories: csvData.map((row: CSVDataRow) => row[cato])\r\n        };\r\n\r\n        // construct series data\r\n        let series: LineSeriesData[] = [];\r\n        fields.forEach((f: string) => {\r\n            const colData = csvData.map((row: CSVDataRow) => row[f]);\r\n            series.push({\r\n                name: f,\r\n                data: colData as number[]\r\n            });\r\n        });\r\n\r\n        // initializing chartOptions for line/bar charts\r\n        this.chartOptions = {\r\n            ...defaultOptions,\r\n            series: series,\r\n            xAxis: xAxis,\r\n            yAxis: {\r\n                title: {\r\n                    text: dqvOptions?.yAxisLabel ? dqvOptions?.yAxisLabel : ''\r\n                }\r\n            }\r\n        };\r\n        this.$emit('loaded', this.chartOptions);\r\n    }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chart.vue?vue&type=template&id=07723fca&\"\nimport script from \"./chart.vue?vue&type=script&lang=ts&\"\nexport * from \"./chart.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./chart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ChartPanel, ConfigFileStructure } from '@storylines/definitions';\nimport { Hooper, Navigation as HooperNavigation, Pagination as HooperPagination, Slide } from 'hooper';\nimport 'hooper/dist/hooper.css';\nimport ChartV from '@storylines/components/panels/helpers/chart.vue';\n\n@Component({\n    components: {\n        'dqv-chart': ChartV,\n        Hooper,\n        Slide,\n        HooperNavigation,\n        HooperPagination\n    }\n})\nexport default class ChartPanelV extends Vue {\n    @Prop() config!: ChartPanel;\n    @Prop() configFileStructure!: ConfigFileStructure;\n\n    width = -1;\n\n    mounted(): void {\n        setTimeout(() => {\n            this.width = this.$el.clientWidth - 64;\n        }, 100);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chart-panel.vue?vue&type=template&id=2cbec786&scoped=true&\"\nimport script from \"./chart-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./chart-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./chart-panel.vue?vue&type=style&index=0&id=2cbec786&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cbec786\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"story-slide w-full h-full flex sm:flex-row flex-col\",attrs:{\"id\":_vm.$vnode.key}},[_c('Scrollama',{staticClass:\"flex-1 order-2 sm:order-1 prose max-w-none my-5\"},[_c(_vm.config.titleTag || 'h2',{tag:\"component\",staticClass:\"px-10 mb-0 chapter-title top-20\",style:(_vm.activeIdx !== _vm.defaultPanel.id ? 'margin-top: 0px;' : '')},[_vm._v(\" \"+_vm._s(_vm.config.title)+\" \")]),_c('div',{staticClass:\"px-10 md-content\",domProps:{\"innerHTML\":_vm._s(_vm.md.render(_vm.config.content))}})],1),_c('div',{class:_vm.activeConfig.type !== 'text'\n                ? (\"sticky \" + (_vm.activeConfig.type === 'map' ? 'top-16' : 'top-8') + \" sm:self-start flex-2 order-1 sm:order-2 z-40 dynamic-content-media sm:flex-col\")\n                : 'flex-2 order-2 sm:order-1 dynamic-content-text'},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeIdx !== _vm.defaultPanel.id),expression:\"activeIdx !== defaultPanel.id\"}],staticClass:\"return-button-container top-16\"},[_c('button',{staticClass:\"return-button py-1 text-base right-0 absolute\",on:{\"click\":_vm.clickBack}},[_c('img',{staticStyle:{\"display\":\"inline\",\"margin\":\"0px\"},attrs:{\"src\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAB4UlEQVRIie3WP08WQRAG8J+2SolRQaLyKvR+BTsVaQnfwD9YCH4PS6I2ViAS1GhMKLWESkzUmBAT7azECoS8Fjcvqxe52zuMseBJNpebe2ae2dmdveUA/wiHGnCHcBWXcBqDYf+CT3iOp/j8t5IbwCy20a0ZO3gUie0L4/geQTcxhwmM4EiMkbDNB6eLDYy1Fb2lmEEXj3E2w2cYi9Lsp5qKjofjNm43dcZ0+O9oMPNBqbxtRHuYkcp+MsfhgVTe/WIpYt2rIw4pyrtp7zU9hlW8zhDuRKxtqf3+iJuR4VyF6FpwVjKEKdqri+tVpJdBmqgRXYv3HEyGz4sq0scgnSvZ+/Emvr3D8UxRij7v4n0VaSNIfSX7qvpTqzfKa98n7e5dHG6QeS66bZw+hOP5kr1c6hMNYo7+4reL8ozX43mhZP+Ki3gbgZblb65erPUq0o3Ibn6P723aaSH416pIp6QDZLhCfAWvMkQ72MIPNQcI3I8MFzMC1+FJxJrNIQ9IbTW9D9E7EeObBptxTPqtzbQU7flfaeo8JV0ElhTrVYeOVN4dxdnfCmNS2bcUB/6koqWOxhgN20JweuW93Fa0h37cVezMnMveQxlr2uR6Oyhdb8/4/Xq7rvj7PIv3A/w/+Am/TqGFCMnpPgAAAABJRU5ErkJggg==\",\"alt\":_vm.$t('dynamic.back')}}),_vm._v(\" \"+_vm._s(_vm.$t('dynamic.back'))+\" \")])]),_c('panel',{ref:\"content\",staticClass:\"flex-2\",attrs:{\"config\":_vm.activeConfig,\"slideIdx\":_vm.slideIdx,\"dynamicIdx\":_vm.activeIdx,\"ratio\":false}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Scrollama from 'vue-scrollama';\nimport MarkdownIt from 'markdown-it';\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { BasePanel, DynamicPanel } from '@storylines/definitions';\n\n@Component({\n    components: {\n        panel: () => import('./panel.vue'),\n        Scrollama\n    }\n})\nexport default class DynamicPanelV extends Vue {\n    @Prop() config!: DynamicPanel;\n    @Prop() slideIdx!: string;\n\n    // Get the ID of the first (and default) panel.\n    defaultPanel = this.config.children[0];\n\n    // By default, the active config is set to the first child in the children list.\n    activeConfig: BasePanel = this.defaultPanel.panel;\n    activeIdx = this.defaultPanel.id;\n\n    md = new MarkdownIt({ html: true });\n\n    mounted(): void {\n        document\n            .querySelectorAll('.storyramp-app a:not([target])')\n            .forEach((el: Element) => ((el as HTMLAnchorElement).target = '_blank'));\n\n        this.addDynamicURLs();\n    }\n\n    /**\n     * Adds panel-switching functionality to URLs.\n     */\n    addDynamicURLs(): void {\n        // Find all URLs that contain the `panel` attribute.\n        const urls: HTMLAnchorElement[] = Array.from(this.$el.querySelectorAll('a[panel]'));\n        urls.forEach((el: HTMLAnchorElement) => {\n            // Find the target panel and add an event listener to the URL.\n            const target = el.attributes.getNamedItem('panel')?.value;\n\n            // Change the target to self so clicking the link doesn't open in a new window. Also add a\n            // dotted underline to indicate that clicking this link will stay in this window.\n            el.style.setProperty('text-decoration-style', 'dotted');\n            el.style.setProperty('text-underline-offset', '3px');\n            el.href = 'javascript:;';\n            el.target = '_self';\n\n            el.onclick = () => {\n                // Find the panel.\n                const panel = this.config.children.find((el) => {\n                    return target == el.id;\n                });\n\n                // If the panel exists, switch the displayed panel.\n                if (panel) {\n                    // Quickly reset the config so the panel component can be reset.\n                    this.activeConfig = {\n                        type: 'loading'\n                    };\n\n                    setTimeout(() => {\n                        this.activeConfig = panel.panel;\n                        this.activeIdx = panel.id;\n                    }, 10);\n\n                    setTimeout(() => {\n                        const elTop = (this.$refs['content'] as Vue).$el.getBoundingClientRect().top;\n                        window.scrollTo({\n                            top: window.pageYOffset + elTop - 63,\n                            left: 0,\n                            behavior: 'smooth'\n                        });\n                    }, 50);\n                }\n            };\n        });\n    }\n\n    /**\n     * When clicking the back button, change the panel back to the default (first) panel.\n     */\n    clickBack(): void {\n        this.activeConfig = {\n            type: 'loading'\n        };\n\n        setTimeout(() => {\n            this.activeConfig = this.defaultPanel.panel;\n            this.activeIdx = this.defaultPanel.id;\n        }, 10);\n\n        setTimeout(() => {\n            const elTop = (this.$refs['content'] as Vue).$el.getBoundingClientRect().top;\n            window.scrollTo({\n                top: window.pageYOffset + elTop - 63,\n                left: 0,\n                behavior: 'smooth'\n            });\n        }, 50);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dynamic-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dynamic-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./dynamic-panel.vue?vue&type=template&id=6fa80e56&scoped=true&\"\nimport script from \"./dynamic-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./dynamic-panel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./dynamic-panel.vue?vue&type=style&index=0&id=6fa80e56&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fa80e56\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Scrollama',{staticClass:\"flex-1 prose max-w-none my-5\"},[_c('div',{staticClass:\"block py-20 align-middle text-center h-full\",staticStyle:{\"margin\":\"0 auto\"}},[_c('spinner',{staticStyle:{\"margin\":\"0 auto\"},attrs:{\"size\":\"120px\",\"background\":\"#00D2D3\",\"color\":\"#009cd1\",\"stroke\":\"10px\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport Scrollama from 'vue-scrollama';\nimport { Component, Vue } from 'vue-property-decorator';\nimport Circle2 from 'vue-loading-spinner/src/components/Circle2.vue';\n\n@Component({\n    components: {\n        Scrollama,\n        spinner: Circle2\n    }\n})\nexport default class LoadingPanelV extends Vue {}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading-panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./loading-panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./loading-panel.vue?vue&type=template&id=07993d41&scoped=true&\"\nimport script from \"./loading-panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./loading-panel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07993d41\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { VueConstructor } from 'vue/types/umd';\nimport { BasePanel, ConfigFileStructure, PanelType } from '@storylines/definitions';\n\nimport TextPanelV from './text-panel.vue';\nimport MapPanelV from './map-panel.vue';\nimport ImagePanelV from './image-panel.vue';\nimport AudioPanelV from './audio-panel.vue';\nimport VideoPanelV from './video-panel.vue';\nimport SlideshowPanelV from './slideshow-panel.vue';\nimport ChartPanelV from './chart-panel.vue';\nimport DynamicPanelV from './dynamic-panel.vue';\nimport LoadingPanelV from './loading-panel.vue';\n\n@Component({\n    components: {\n        TextPanelV\n    }\n})\nexport default class PanelV extends Vue {\n    @Prop() config!: BasePanel;\n    @Prop() configFileStructure!: ConfigFileStructure;\n    @Prop() ratio!: boolean;\n    @Prop() slideIdx!: number;\n    @Prop() lang!: string;\n\n    /**\n     * Returns the corresponding component for this panel.\n     */\n    getTemplate(): VueConstructor {\n        const panelTemplates: Record<PanelType | string, VueConstructor> = {\n            [PanelType.Text]: TextPanelV,\n            [PanelType.Map]: MapPanelV,\n            [PanelType.Image]: ImagePanelV,\n            [PanelType.Audio]: AudioPanelV,\n            [PanelType.Video]: VideoPanelV,\n            [PanelType.Slideshow]: SlideshowPanelV,\n            [PanelType.Chart]: ChartPanelV,\n            [PanelType.Dynamic]: DynamicPanelV,\n            [PanelType.Loading]: LoadingPanelV\n        };\n\n        return panelTemplates[this.config.type];\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./panel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./panel.vue?vue&type=template&id=229a3744&scoped=true&\"\nimport script from \"./panel.vue?vue&type=script&lang=ts&\"\nexport * from \"./panel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"229a3744\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fullscreen.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapter-menu.vue?vue&type=style&index=0&id=c97468b0&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./time-slider.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./dynamic-panel.vue?vue&type=style&index=0&id=6fa80e56&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./image-panel.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./video-panel.vue?vue&type=style&index=0&lang=scss&\"","import Component from 'vue-class-component';\n\n// register router hooks\nComponent.registerHooks(['beforeRouterEnter', 'beforeRouteLeave', 'beforeRouteUpdate']);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"storyramp-app bg-white\",attrs:{\"id\":\"app\"}},[_c('router-view',{key:_vm.$route.path})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class App extends Vue {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=69b5f8af&\"\nimport script from \"./app.vue?vue&type=script&lang=ts&\"\nexport * from \"./app.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./app.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loadStatus === 'loading')?_c('div',[_c('div',{staticClass:\"block py-20 align-middle text-center h-full\",staticStyle:{\"margin\":\"0 auto\"}},[_c('spinner',{staticStyle:{\"margin\":\"0 auto\"},attrs:{\"size\":\"120px\",\"background\":\"#00D2D3\",\"color\":\"#009cd1\",\"stroke\":\"10px\"}})],1)]):(_vm.loadStatus === 'error')?_c('div',[_c('div',{staticClass:\"block py-20 align-middle text-center h-full\",staticStyle:{\"margin\":\"0 auto\"}},[_c('div',{staticStyle:{\"font-size\":\"200px\"}},[_vm._v(\"!\")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('story.error'))+\" \")])])]):(_vm.loadStatus === 'loaded')?_c('div',[(_vm.config !== undefined)?_c('div',{staticClass:\"storyramp-app bg-white\"},[_c('header',{staticClass:\"story-header sticky top-0 w-full h-16 leading-9 bg-white border-b border-gray-200\"},[_c('div',{staticClass:\"flex w-full sm:px-6 py-3 mx-auto\"},[_c('MobileMenuV',{staticClass:\"mobile-menu\",attrs:{\"active-chapter-index\":_vm.activeChapterIndex,\"slides\":_vm.config.slides,\"lang\":_vm.lang}}),_c('div',{staticClass:\"flex-none w-mobile-full truncate font-semibold\"},[_c('span',{staticClass:\"text-lg\"},[_vm._v(_vm._s(_vm.config.title))])]),_c('div',{staticClass:\"flex justify-end flex-auto space-x-6\"})],1)]),_c('introduction',{attrs:{\"config\":_vm.config.introSlide}}),_c('div',{staticClass:\"w-full mx-auto pb-10\",attrs:{\"id\":\"story\"}},[_c('StoryContentV',{attrs:{\"config\":_vm.config,\"lang\":_vm.lang},on:{\"step\":_vm.updateActiveIndex}})],1),_c('footer',{staticClass:\"p-8 pt-2 text-right text-sm\"},[_vm._v(\" Context: \"),_c('a',{staticClass:\"text-blue-700 font-semibold\",attrs:{\"href\":_vm.config.contextLink,\"target\":\"_NEW\"}},[_vm._v(_vm._s(_vm.config.contextLabel))]),_vm._v(\" | \"),_c('a',{staticClass:\"font-semibold text-blue-700\",attrs:{\"href\":\"https://github.com/ramp4-pcar4/story-ramp\",\"target\":\"_NEW\"}},[_vm._v(\"ramp4-pcar4/story-ramp\")])]),(_vm.config.dateModified)?_c('div',{staticClass:\"storyramp-modified\"},[_vm._v(\" \"+_vm._s(_vm.$t('story.date'))+\" \"+_vm._s(_vm.config.dateModified)+\" \")]):_vm._e()],1):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sticky w-12 duration-500 ease-in-out transition-width\"},[_c('div',{staticClass:\"flex px-3 py-2\"},[_c('button',{attrs:{\"aria-label\":_vm.$t('chapters.menu')},on:{\"click\":function($event){_vm.isMenuOpen = !_vm.isMenuOpen}}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"stroke\":\"#707070\"}},[_c('path',{staticClass:\"transition-all duration-500 ease-in-out\",attrs:{\"d\":(\"m3.5 7h\" + (_vm.isMenuOpen ? '17' : '8.5'))}}),_c('path',{staticClass:\"transition-all duration-500 ease-in-out\",attrs:{\"d\":(\"m3.5 12h\" + (_vm.isMenuOpen ? '17' : '8.5'))}}),_c('path',{attrs:{\"d\":\"m3.5 17h17\"}})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMenuOpen),expression:\"isMenuOpen\"}],staticClass:\"flex items-center mt-3 py-4 w-72 bg-white\"},[_c('span',{staticClass:\"flex-2 pl-2 ml-4 leading-normal\"},[_vm._v(_vm._s(_vm.$t('chapters.title')))]),_c('button',{attrs:{\"aria-label\":_vm.$t('chapters.menu')},on:{\"click\":function($event){_vm.isMenuOpen = !_vm.isMenuOpen}}},[_c('svg',{staticClass:\"flex-shrink-0 mr-4\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#c0c0c0\",\"stroke\":\"#c0c0c0\"}},[_c('path',{attrs:{\"d\":\"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z\"}})])])]),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isMenuOpen),expression:\"isMenuOpen\"}],staticClass:\"dropdown-nav-content bg-white pb-10 w-72 z-10 border-r border-gray-200\"},[_c('li',[_c('router-link',{staticClass:\"flex py-1 px-3\",attrs:{\"to\":{ hash: '#intro' },\"target\":\"\"}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(_vm.$t('chapters.return')))])])],1),_vm._l((_vm.slides),function(slide,idx){return _c('li',{key:idx,class:{ 'is-active': _vm.activeChapterIndex === idx }},[_c('router-link',{staticClass:\"flex py-1 px-3\",attrs:{\"to\":{ hash: (\"#\" + idx + \"-\" + (slide.title.toLowerCase().replaceAll(' ', '-'))) },\"target\":\"\"}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(slide.title))])])],1)})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Slide } from '@storylines/definitions';\n\n@Component\nexport default class SideMenuV extends Vue {\n    @Prop() slides!: Slide[];\n    @Prop() activeChapterIndex!: number;\n    @Prop() lang!: string;\n\n    isMenuOpen = false;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile-menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile-menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./mobile-menu.vue?vue&type=template&id=1c86e27a&scoped=true&\"\nimport script from \"./mobile-menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./mobile-menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./mobile-menu.vue?vue&type=style&index=0&id=1c86e27a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c86e27a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex items-stretch\"},[_c('ChapterMenuV',{staticClass:\"side-menu\",attrs:{\"active-chapter-index\":_vm.activeChapterIndex,\"slides\":_vm.config.slides,\"editor\":!!_vm.configFileStructure,\"lang\":_vm.lang}}),_c('Scrollama',{staticClass:\"relative story-scrollama w-full flex-grow min-w-0\",on:{\"step-enter\":_vm.stepEnter}},_vm._l((_vm.config.slides),function(slide,idx){return _c('div',{key:idx,staticClass:\"flex pt-24\",attrs:{\"data-chapter-index\":idx,\"id\":(idx + \"-\" + (slide.title.toLowerCase().replaceAll(' ', '-'))),\"name\":(idx + \"-\" + (slide.title.toLowerCase().replaceAll(' ', '-')))}},[_c('slide',{attrs:{\"config\":slide,\"configFileStructure\":_vm.configFileStructure,\"slideIdx\":idx,\"lang\":_vm.lang}})],1)}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"nav-bar sticky self-start w-12 duration-500 ease-in-out transition-width top-16\",class:_vm.isMenuOpen ? 'w-72' : ''},[_c('div',{staticClass:\"flex items-center mt-4 mb-12\"},[(!_vm.isMenuOpen)?_c('tippy',{attrs:{\"to\":\"menu-button-tippy\",\"placement\":\"right\",\"delay\":\"200\"}},[_vm._v(_vm._s(_vm.$t('chapters.title')))]):_vm._e(),_c('button',{staticClass:\"flex items-center flex-shrink-0 px-2 py-1 mx-1 overflow-hidden\",attrs:{\"name\":\"menu-button-tippy\",\"aria-label\":_vm.$t('chapters.menu')},on:{\"click\":function($event){_vm.isMenuOpen = !_vm.isMenuOpen}}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"stroke\":\"#707070\"}},[_c('path',{staticClass:\"transition-all duration-500 ease-in-out\",attrs:{\"d\":(\"m3.5 7h\" + (_vm.isMenuOpen ? '17' : '8.5'))}}),_c('path',{staticClass:\"transition-all duration-500 ease-in-out\",attrs:{\"d\":(\"m3.5 12h\" + (_vm.isMenuOpen ? '17' : '8.5'))}}),_c('path',{attrs:{\"d\":\"m3.5 17h17\"}})]),_c('span',{staticClass:\"flex-1 pl-2 ml-2 overflow-hidden leading-normal text-left overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(_vm.$t('chapters.title')))])])],1),_c('ul',{staticClass:\"nav-content menu\"},[_c('li',[_c('tippy',{attrs:{\"to\":\"menu-options-tippy\",\"delay\":\"200\",\"placement\":\"right\"}},[_vm._v(_vm._s(_vm.$t('chapters.return')))]),(_vm.editor)?_c('button',{staticClass:\"flex items-center px-2 py-1 mx-1\",attrs:{\"name\":\"menu-options-tippy\"},on:{\"click\":function($event){return _vm.scrollToChapter('intro')}}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(_vm.$t('chapters.return')))])]):_c('router-link',{staticClass:\"flex items-center px-2 py-1 mx-1\",attrs:{\"name\":\"menu-options-tippy\",\"to\":{ hash: '#intro' },\"target\":\"\"}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(_vm.$t('chapters.return')))])])],1),_vm._l((_vm.slides),function(slide,idx){return _c('li',{key:idx,class:{ 'is-active': _vm.activeChapterIndex === idx }},[_c('tippy',{attrs:{\"to\":(\"menu-options-tippy-\" + idx),\"delay\":\"200\",\"placement\":\"right\"}},[_vm._v(_vm._s(slide.title))]),(_vm.editor)?_c('button',{staticClass:\"flex items-center px-2 py-1 mx-1\",attrs:{\"name\":(\"menu-options-tippy-\" + idx)},on:{\"click\":function($event){_vm.scrollToChapter((idx + \"-\" + (slide.title.toLowerCase().replaceAll(' ', '-'))))}}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(slide.title))])]):_c('router-link',{staticClass:\"flex items-center px-2 py-1 mx-1\",attrs:{\"name\":(\"menu-options-tippy-\" + idx),\"to\":{ hash: (\"#\" + idx + \"-\" + (slide.title.toLowerCase().replaceAll(' ', '-'))) },\"target\":\"\"}},[_c('svg',{staticClass:\"flex-shrink-0\",attrs:{\"width\":\"24\",\"height\":\"24\",\"viewBox\":\"0 0 24 24\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"#fff\",\"stroke\":\"#878787\"}},[_c('path',{attrs:{\"d\":\"m19.325 16.229c-2.4415 1.4096-4.8829 2.8191-7.3244 4.2286-2.4415-1.4096-4.883-2.8192-7.3245-4.2288-3.55e-5 -2.8191-7.1e-5 -5.6383-1.066e-4 -8.4574 2.4415-1.4096 4.8829-2.8191 7.3244-4.2286 2.4415 1.4096 4.883 2.8192 7.3245 4.2288 3.7e-5 2.8191 7.4e-5 5.6383 1.1e-4 8.4574z\",\"stroke-width\":\".93974\"}})]),_c('span',{staticClass:\"flex-1 ml-4 overflow-hidden leading-normal overflow-ellipsis whitespace-nowrap\"},[_vm._v(_vm._s(slide.title))])])],1)}),_c('div',{staticClass:\"h-10 flex-shrink-0\"})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { Slide } from '@storylines/definitions';\n\n@Component\nexport default class ChapterMenuV extends Vue {\n    @Prop() slides!: Slide[];\n    @Prop() activeChapterIndex!: number;\n    @Prop() lang!: string;\n    @Prop() editor!: boolean;\n\n    isMenuOpen = false;\n\n    scrollToChapter(id: string): void {\n        const el = document.getElementById(id);\n        if (el) {\n            el.scrollIntoView({ behavior: 'smooth' });\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapter-menu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chapter-menu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./chapter-menu.vue?vue&type=template&id=c97468b0&scoped=true&\"\nimport script from \"./chapter-menu.vue?vue&type=script&lang=ts&\"\nexport * from \"./chapter-menu.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./chapter-menu.vue?vue&type=style&index=0&id=c97468b0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c97468b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"story-slide h-full w-full flex sm:flex-row flex-col\",attrs:{\"id\":_vm.$vnode.key}},_vm._l((_vm.config.panel),function(panel,idx){return _c('panel',{key:idx,attrs:{\"config\":panel,\"configFileStructure\":_vm.configFileStructure,\"index\":idx,\"ratio\":_vm.defaultRatio,\"slideIdx\":_vm.slideIdx,\"lang\":_vm.lang}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ConfigFileStructure, PanelType, Slide } from '@storylines/definitions';\nimport PanelV from '@storylines/components/panels/panel.vue';\n\n@Component({\n    components: {\n        panel: PanelV\n    }\n})\nexport default class SlideV extends Vue {\n    @Prop() config!: Slide;\n    @Prop() configFileStructure!: ConfigFileStructure;\n    @Prop() slideIdx!: number;\n    @Prop() lang!: string;\n\n    defaultRatio = false;\n\n    mounted(): void {\n        const panels = this.config.panel;\n        // check if there is one text panel and one non-text panel in the slide and user did not specify a width in config\n        if (panels.length == 2 && !panels[0]?.width && !panels[1]?.width) {\n            const panelText1 = panels[0]?.type === PanelType.Text;\n            const panelText2 = panels[1]?.type === PanelType.Text;\n\n            // set a default ratio to be set so that non-text panel takes up more flexbox space\n            if ((panelText1 && !panelText2) || (!panelText1 && panelText2)) {\n                this.defaultRatio = true;\n            }\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slide.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./slide.vue?vue&type=template&id=410cff9a&scoped=true&\"\nimport script from \"./slide.vue?vue&type=script&lang=ts&\"\nexport * from \"./slide.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"410cff9a\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport 'intersection-observer';\nimport Scrollama from 'vue-scrollama';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\nimport { ConfigFileStructure, StoryRampConfig } from '@storylines/definitions';\n\nimport ChapterMenuV from './chapter-menu.vue';\nimport SlideV from './slide.vue';\n\n@Component({\n    components: {\n        Scrollama,\n        ChapterMenuV,\n        slide: SlideV\n    }\n})\nexport default class StoryContentV extends Vue {\n    @Prop() config!: StoryRampConfig;\n    @Prop() configFileStructure!: ConfigFileStructure;\n    @Prop() lang!: string;\n\n    activeChapterIndex = -1;\n\n    mounted(): void {\n        const hash = this.$route.hash.substring(1);\n        if (hash) {\n            // decode in case there are special french characters that are encoded in hash\n            const decodedHash = decodeURIComponent(hash);\n            const el = document.getElementById(decodedHash);\n            el?.scrollIntoView({ behavior: 'smooth' });\n        }\n    }\n\n    stepEnter({ element }: { element: HTMLElement }): void {\n        this.activeChapterIndex = parseInt(element.dataset.chapterIndex || '-1');\n        this.$emit('step', this.activeChapterIndex);\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-content.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-content.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./story-content.vue?vue&type=template&id=5380b928&scoped=true&\"\nimport script from \"./story-content.vue?vue&type=script&lang=ts&\"\nexport * from \"./story-content.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./story-content.vue?vue&type=style&index=0&id=5380b928&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5380b928\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"py-24 mx-auto text-center max-w-9xl\",attrs:{\"id\":\"intro\"}},[(_vm.config.logo && _vm.config.logo.src)?_c('img',{staticClass:\"inline-block\",attrs:{\"src\":_vm.config.logo.src,\"alt\":_vm.config.logo.altText}}):_vm._e(),_c('h1',{staticClass:\"m-10 text-5xl font-bold text-gray-800\"},[_vm._v(\" \"+_vm._s(_vm.config.title)+\" \")]),_c('p',{staticClass:\"w-1/2 m-auto text-2xl font-semibold text-gray-500\"},[_vm._v(\" \"+_vm._s(_vm.config.subtitle)+\" \")]),(!!_vm.configFileStructure)?_c('button',{on:{\"click\":_vm.scrollToStory}},[_c('svg',{staticClass:\"w-auto h-24 m-auto\",attrs:{\"width\":\"90\",\"height\":\"104.84\",\"viewBox\":\"0 0 90 104.83\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z\",\"fill\":\"#fff\",\"stroke\":\"#00d2d3\",\"stroke-dasharray\":\"4.8960465, 4.8960465\",\"stroke-dashoffset\":\"2.7\",\"stroke-width\":\".5\"}}),_c('path',{attrs:{\"d\":\"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z\",\"fill\":\"#00d2d3\",\"stroke\":\"#00d2d3\",\"stroke-width\":\".97921\"}})])]):_c('router-link',{staticClass:\"inline-block mt-10 scroll-arrow\",attrs:{\"to\":{ hash: '#story' },\"title\":\"scroll to story\",\"target\":\"\"}},[_c('svg',{staticClass:\"w-auto h-24 m-auto\",attrs:{\"width\":\"90\",\"height\":\"104.84\",\"viewBox\":\"0 0 90 104.83\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"m89.51 77.659-44.51 25.698-44.51-25.698 3.86e-4 -51.395 44.51-25.698 44.51 25.698z\",\"fill\":\"#fff\",\"stroke\":\"#00d2d3\",\"stroke-dasharray\":\"4.8960465, 4.8960465\",\"stroke-dashoffset\":\"2.7\",\"stroke-width\":\".5\"}}),_c('path',{attrs:{\"d\":\"m45 104.27-44.51-25.697v-10.646l44.51 25.697 44.51-25.697v10.646z\",\"fill\":\"#00d2d3\",\"stroke\":\"#00d2d3\",\"stroke-width\":\".97921\"}})])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ConfigFileStructure, Intro } from '@storylines/definitions';\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\n@Component({})\nexport default class IntroV extends Vue {\n    @Prop() config!: Intro;\n    @Prop() configFileStructure!: ConfigFileStructure;\n\n    mounted(): void {\n        // obtain logo from ZIP file if it exists\n        if (this.configFileStructure) {\n            const logo = this.config.logo?.src;\n\n            if (logo) {\n                const logoSrc = `${logo.substring(logo.indexOf('/') + 1)}`;\n                const logoFile = this.configFileStructure.zip.file(logoSrc);\n                if (logoFile) {\n                    logoFile.async('blob').then((res: Blob) => {\n                        this.config.logo.src = URL.createObjectURL(res);\n                        this.$forceUpdate();\n                    });\n                }\n            }\n        }\n    }\n\n    scrollToStory(): void {\n        const el = document.getElementById('story');\n        if (el) {\n            el.scrollIntoView({ behavior: 'smooth' });\n        }\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./introduction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./introduction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./introduction.vue?vue&type=template&id=ed3d671e&\"\nimport script from \"./introduction.vue?vue&type=script&lang=ts&\"\nexport * from \"./introduction.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport { Route } from 'vue-router';\n\nimport MobileMenuV from './mobile-menu.vue';\nimport StoryContentV from '@storylines/components/story/story-content.vue';\nimport IntroV from '@storylines/components/story/introduction.vue';\n\nimport { StoryRampConfig } from '@storylines/definitions';\nimport Circle2 from 'vue-loading-spinner/src/components/Circle2.vue';\n\n@Component({\n    components: {\n        StoryContentV,\n        MobileMenuV,\n        introduction: IntroV,\n        spinner: Circle2\n    }\n})\nexport default class StoryV extends Vue {\n    config: StoryRampConfig | undefined = undefined;\n    loadStatus = 'loading';\n    activeChapterIndex = -1;\n    lang = 'en';\n\n    created(): void {\n        const uid = this.$route.params.uid;\n        this.lang = this.$route.params.lang ? this.$route.params.lang : 'en';\n        if (uid) {\n            this.fetchConfig(uid, this.lang);\n        } else {\n            console.error(`Please supply the language and id URL params in the form of /[lang]/[uid].`);\n            // if no URL params have been provided redirect to canada.ca 404 page\n            window.location.href = 'https://www.canada.ca/errors/404.html';\n        }\n\n        // set page lang\n        const html = document.documentElement; // returns the html tag\n        html.setAttribute('lang', this.lang);\n        this.$i18n.locale = this.lang;\n    }\n\n    // react to param changes in URL\n    beforeRouteUpdate(to: Route, from: Route, next: () => void): void {\n        const uid = to.params.uid;\n        this.lang = to.params.lang;\n        this.$i18n.locale = this.lang;\n        this.fetchConfig(uid, this.lang);\n        next();\n    }\n\n    fetchConfig(uid: string, lang: string): void {\n        fetch(`${uid}/${uid}_${lang}.json`)\n            .then((res) => {\n                res.json().then((config: StoryRampConfig) => {\n                    this.config = config;\n                    this.loadStatus = 'loaded';\n                    // set page title\n                    if (this.config) {\n                        document.title = this.config.title + ' - Canada.ca';\n                    }\n                });\n            })\n            .catch((err) => {\n                if (err.code === 'MODULE_NOT_FOUND') {\n                    console.error(`There exists no config given by the URL params: ${err}`);\n                    // redirect to canada.ca 404 page on invalid URL params\n                    window.location.href = 'https://www.canada.ca/errors/404.html';\n                } else {\n                    // Some unknown error, possibly a build error that could indicate an error in the\n                    // configuration file.\n                    this.loadStatus = 'error';\n\n                    // Print out the error stack.\n                    console.error(err.stack);\n                }\n            });\n    }\n\n    updateActiveIndex(idx: number): void {\n        this.activeChapterIndex = idx;\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./story.vue?vue&type=template&id=7de2ecdc&\"\nimport script from \"./story.vue?vue&type=script&lang=ts&\"\nexport * from \"./story.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./story.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport StoryV from '@storylines/components/story/story.vue';\nimport Router, { Route } from 'vue-router';\n\nVue.use(Router);\n\nconst routes = [\n    {\n        path: '/',\n        component: StoryV\n    },\n    {\n        path: '/:uid',\n        component: StoryV\n    },\n    {\n        path: '/:lang/:uid',\n        component: StoryV\n    }\n];\n\nexport default new Router({\n    routes: routes,\n    // mode: 'history', // TODO: uncomment to change to history mode for nicer URLs (eliminating middle hash) see #100\n    scrollBehavior: function (to: Route) {\n        if (to.hash) {\n            return {\n                selector: decodeURIComponent(to.hash),\n                behavior: 'smooth'\n            };\n        }\n    }\n});\n","import Vue from 'vue';\nimport VueI18n from 'vue-i18n';\n\nVue.use(VueI18n);\n\ntype csvRows = { key: string; enValue: string; frValue: string }[];\ninterface LocaleMessages {\n    [key: string]: { [name: string]: string };\n}\n\nconst rows = require('./lang.csv');\n\nconst lang = document.documentElement.getAttribute('lang');\n\n/**\n * Fold the imported CSV file in the form of `{ key: string, enValue: string, frValue: string }[]` to the form understood by VueI18n: `{ en: { [name: string]: string }, fr: { [name: string]: string } }`.\n *\n * @param {csvRows} rows\n * @returns {LocaleMessages}\n */\nfunction fold(rows: csvRows): LocaleMessages {\n    return rows.reduce(\n        (map, item) => {\n            map.en[item.key] = item.enValue;\n            map.fr[item.key] = item.frValue;\n            return map;\n        },\n        { en: {}, fr: {} } as LocaleMessages\n    );\n}\n\nconst i18n = new VueI18n({\n    locale: lang || undefined,\n    fallbackLocale: 'en',\n    messages: fold(rows)\n});\n\nexport { i18n };\n","import './router/componentHooks';\nimport Vue from 'vue';\nimport App from './app.vue';\nimport router from './router';\nimport './style.css';\n\nimport { i18n } from './lang';\n\nimport VueTippy, { TippyComponent } from 'vue-tippy';\n\nVue.use(VueTippy);\nVue.component('tippy', TippyComponent);\n\nimport HighchartsVue from 'highcharts-vue';\nVue.use(HighchartsVue);\n\nimport VuePapaParse from 'vue-papa-parse';\nVue.use(VuePapaParse);\n\nimport VueProgressiveImage from 'vue-progressive-image';\nVue.use(VueProgressiveImage);\n\nimport VueFullScreen from 'vue-fullscreen';\nVue.use(VueFullScreen);\n\nVue.config.productionTip = false;\n\nnew Vue({\n    render: (h) => h(App),\n    i18n,\n    router\n}).$mount('#app');\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./text-panel.vue?vue&type=style&index=0&id=1e510200&scoped=true&lang=scss&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./chart-panel.vue?vue&type=style&index=0&id=2cbec786&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./story-content.vue?vue&type=style&index=0&id=5380b928&lang=scss&scoped=true&\""],"sourceRoot":""}